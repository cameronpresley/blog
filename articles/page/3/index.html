
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Cameron Presley">
      
      
      
        <link rel="prev" href="../../..">
      
      
        <link rel="next" href="../../category/net/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16+insiders-4.53.16">
    
    
      
        <title>Index - The Software Mentor</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.1caf78d2.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/page.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-ZE0MGVG7RJ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-ZE0MGVG7RJ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-ZE0MGVG7RJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The Software Mentor" class="md-header__button md-logo" aria-label="The Software Mentor" data-md-component="logo">
      
  <img src="../../../assets/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Software Mentor
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  About Me

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Articles

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../courses/" class="md-tabs__link">
        
  
  
    
  
  Training Course

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../level-up/" class="md-tabs__link">
        
  
  
    
  
  Level Up Resources

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../presentations/" class="md-tabs__link">
        
  
  
    
  
  Presentations

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../speaking-schedule/" class="md-tabs__link">
        
  
  
    
  
  Speaking Schedule

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../story/" class="md-tabs__link">
        
  
  
    
  
  Story

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../resume/" class="md-tabs__link">
        
  
  
    
  
  Resume

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The Software Mentor" class="md-nav__button md-logo" aria-label="The Software Mentor" data-md-component="logo">
      
  <img src="../../../assets/images/favicon.png" alt="logo">

    </a>
    The Software Mentor
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Me
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Articles
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Articles
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Archive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2025
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2024
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2023
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2020
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2018
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2015
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2014/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2014
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2013/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2013
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Categories
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Categories
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/net/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    .NET
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AWS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/c/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C#
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/career/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Career
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/coaching-corner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coaching Corner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/functional-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Functional Programming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/interviewing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interviewing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/leadership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leadership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/learning-through-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learning Through Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/solid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SOLID
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/today-i-learned/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Today I Learned
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/tooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tooling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/typescript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeScript
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../courses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Training Course
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../level-up/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Level Up Resources
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../presentations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Presentations
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../speaking-schedule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Speaking Schedule
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Story
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resume
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="index">Index</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-07-18 00:00:00+00:00">Jul 18, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/today-i-learned/" class="md-meta__link">Today I Learned</a>, 
              <a href="../../category/tooling/" class="md-meta__link">Tooling</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="my-experience-preparing-for-the-azure-administrator-associate-az-104-exam"><a class="toclink" href="../../2024/07/18/my-experience-preparing-for-the-azure-administrator-associate-az-104-exam/">My Experience Preparing for the Azure Administrator Associate (AZ-104) Exam</a></h2>
<p>There's been a bit of a lull the past couple of weeks on the blog as I've been focusing my time on studying and preparing for the AZ-104 exam. This was a particularly challenging certificate for me as I don't have a traditional IT Admin background so I had to not only shore up the gaps in that knowledge, but then also had to learn how to model similar concepts in Azure.</p>
<p>That being said, I was able to pass the exam on my first take and wanted to share some advice for those who are looking to take this or other Azure exams.</p>
<h3 id="expand-your-studying-outside-of-the-microsoft-learn-documentation"><a class="toclink" href="../../2024/07/18/my-experience-preparing-for-the-azure-administrator-associate-az-104-exam/#expand-your-studying-outside-of-the-microsoft-learn-documentation">Expand your studying outside of the Microsoft Learn documentation</a></h3>
<p>The Microsoft Learn docs are fine for doing a deep dive into a subject, but if it's the first time learning a concept, then they can be a bit rough as they assume you have knowledge that you might not. To help round out your learning, I recommend finding other resources like videos, books, or articles.</p>
<h3 id="build-and-experiment-in-azure"><a class="toclink" href="../../2024/07/18/my-experience-preparing-for-the-azure-administrator-associate-az-104-exam/#build-and-experiment-in-azure">Build and Experiment in Azure</a></h3>
<p>Given that most of these concepts are pretty abstract, I found that they stuck with me much more when I build out the resources. For example, when working with a Virtual Machine, all of its components need to be in the same region. You can either remember that text OR you know that has to be true because if you try building out the VM in Azure and try to change components, it's going to fail.</p>
<h3 id="dont-rely-solely-on-practice-exams"><a class="toclink" href="../../2024/07/18/my-experience-preparing-for-the-azure-administrator-associate-az-104-exam/#dont-rely-solely-on-practice-exams">Don't Rely Solely on Practice Exams</a></h3>
<p>Back in 2019, I was studying/preparing for the 483 (exam on C#) and the advice at the time was to go over the practice exams over and over again until things stuck. Following the same advice, I took tons of practice exams (through MS Learn and MeasureUp) and though they might have had the same format as the exam (multiple choice, drag-and-drop, etc...), none of them were a good stand-in for the real exam.</p>
<p>The reason being is that the exam questions likely won't ask you to define a term, but are more likely to be along the lines of how you'd solve a problem (which expects you to know the terminology inherently). So if you don't have the underlying knowledge, you're going to have a bad time trying to answer the questions.</p>
<p>Where the practice exams shone was helping me identify areas that I needed to focus more on. For example, if I struggled in the Networking section, then I know I needed to revisit concepts there. This helped me make the most of my studying time.</p>
<h3 id="using-generative-ai-to-help-understand-concepts"><a class="toclink" href="../../2024/07/18/my-experience-preparing-for-the-azure-administrator-associate-az-104-exam/#using-generative-ai-to-help-understand-concepts">Using Generative AI To Help Understand Concepts</a></h3>
<p>Given that I don't come from a networking/IT background, there were some concepts that were quite confusing to me. For example, I was trying to understand why I would need System routes if we already had Network Security Groups and Copilot was able to give me the following:</p>
<p><img alt="Asking Copilot why I would need system routes" src="https://softwarementorblog.blob.core.windows.net/images/az-104/image-1.png" /></p>
<p>To help make sure I didn't fall victim to <a href="https://en.wikipedia.org/wiki/Hallucination_(artificial_intelligence)">hallucinations</a>, I followed up on the links that Copilot provided to make sure that I understood the concepts, but given that I learn best by asking questions, this was a major win for me since you can't ask questions to books/videos.</p>
<h3 id="resources-that-helped-me"><a class="toclink" href="../../2024/07/18/my-experience-preparing-for-the-azure-administrator-associate-az-104-exam/#resources-that-helped-me">Resources That Helped Me</a></h3>
<p>For those looking to study up on this exam, I had success using these resources. <em>Note: I do not receive compensation for these recommendations.</em></p>
<ul>
<li><a href="https://www.udemy.com/course/70533-azure/">(Paid) AZ-104 Microsoft Azure Administrator Exam Prep by Scott Duffy</a> - I found this to be a great introduction to concepts and a good companion before going through the MS Learn or other resources</li>
<li><a href="https://www.youtube.com/watch?v=0Knf9nub4-k">(Free) AZ-104 Administrator Associate Study Cram v2 by John Savill</a> - This resource is a good refresher and it helped me see concepts from a different perspective. </li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-07-02 00:00:00+00:00">Jul 2, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/today-i-learned/" class="md-meta__link">Today I Learned</a>, 
              <a href="../../category/tooling/" class="md-meta__link">Tooling</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="today-i-learned-using-typespec-to-generate-openapi-specs"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/">Today I Learned - Using TypeSpec to Generate OpenAPI Specs</a></h2>
<p>Recently, I was doing analysis for a project where we needed to build out a set of APIs for consumers to use. Even though <a href="">I'm a big believer of iterative design</a>, we wanted to have a solid idea of what the routes and data models were going to look like. </p>
<p>In the past, I most likely would have generated a .NET Web API project, created the controllers/models, finally leveraging NSwag to generate Swagger documentation for the api. Even though this approach works, it does take more time on the implementation side (spinning up controllers, configuring ASP.NET, creating the models, adding attributes). In addition, if the actual API isn't being written in with .NET, then this code becomes throwaway pretty quickly.</p>
<p>Since tooling is always evolving, I stumbled across another tool, <a href="https://typespec.io/">TypeSpec</a>. Heavily influenced by TypeScript, this allows you to write your contracts and models that, when compiled, produces an OpenAPI compliant spec.</p>
<p>As a bonus, it's not restricted to just API spec as it has support for <a href="https://typespec.io/docs/emitters/json-schema/reference">generating JSON schemas</a> and <a href="https://typespec.io/docs/emitters/protobuf/reference">gRPC's Protocol Buffers (protobuf)</a></p>
<h3 id="getting-started"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/#getting-started">Getting Started</a></h3>
<p>All code for this post can be found on <a href="https://github.com/cameronpresley/typespec-examples">my GitHub</a>.</p>
<p>Given that it's inspired by TypeScript, the tooling requires having Node installed (at least 20, but I'd recommend the long-term-supported (LTS) version).</p>
<p>From there, we can install the TypeSpec tooling with.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>npm<span class="w"> </span>install<span class="w"> </span>@typespec/compiler
</code></pre></div></td></tr></table></div>
<p>Even though this is all the tooling that's required, I'd recommend installing an extension for either Visual Studio or Visual Studio Code so that you can get Intellisense and other visual cues while you're writing the code.</p>
<h3 id="bootstrapping-the-project"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/#bootstrapping-the-project">Bootstrapping the project</a></h3>
<p>Now that we've got the tooling squared away, let's create our project. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>mkdir<span class="w"> </span>bookstore-api<span class="w"> </span><span class="c1"># let&#39;s make a directory to hold everything</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="nb">cd</span><span class="w"> </span>bookstore-api
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>tsp<span class="w"> </span>init<span class="w"> </span>--template<span class="w"> </span>rest
</code></pre></div></td></tr></table></div>
<p>Enter a project name and choose the defaults. Once it's finished bootstrapping, you can install necessary dependencies using <code>tsp install</code>.</p>
<h3 id="building-our-first-api"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/#building-our-first-api">Building Our First API</a></h3>
<p>For our bookstore application, let's say that we want to have an <code>inventory</code> route where someone can retrieve information about a book. </p>
<p>For this work, I'm picturing the following</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="gh"># Route -&gt; GET api/inventory/{id}</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="gh"># Returns 200 or 404</span>
</code></pre></div></td></tr></table></div>
<p>In the project, locate the <code>main.tsp</code> file and add the following</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span>
<span class="normal"><a href="#__codelineno-21-7">7</a></span>
<span class="normal"><a href="#__codelineno-21-8">8</a></span>
<span class="normal"><a href="#__codelineno-21-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>using TypeSpec.Http;
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>using TypeSpec.Rest;
<a id="__codelineno-21-3" name="__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>@service({
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>    title: &quot;Bookstore Service&quot;
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>})
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>namespace Bookstore {
<a id="__codelineno-21-8" name="__codelineno-21-8"></a>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a>}
</code></pre></div></td></tr></table></div>
<p>After adding this code, run <code>tsp compile .</code> (note the period). This will create a file in the <code>tsp-output/@typespec/openapi3</code> folder, <code>openapi.yaml</code>.</p>
<p>We can open that file and see what our OpenAPI spec looks like </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span>
<span class="normal"><a href="#__codelineno-22-5">5</a></span>
<span class="normal"><a href="#__codelineno-22-6">6</a></span>
<span class="normal"><a href="#__codelineno-22-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>openapi: 3.0.0
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>info:
<a id="__codelineno-22-3" name="__codelineno-22-3"></a>  title: Bookstore Service
<a id="__codelineno-22-4" name="__codelineno-22-4"></a>  version: 0.0.0
<a id="__codelineno-22-5" name="__codelineno-22-5"></a>tags: []
<a id="__codelineno-22-6" name="__codelineno-22-6"></a>paths: {}
<a id="__codelineno-22-7" name="__codelineno-22-7"></a>components: {}
</code></pre></div></td></tr></table></div>
<p>So far, not much to look at. However, if we copy this code and render feed it to an online render (like <a href="https://editor.swagger.io/">https://editor.swagger.io/</a>), we'll get a message about no operations.</p>
<p><img alt="Swagger.io saying there are no operations" src="https://softwarementorblog.blob.core.windows.net/images/til-typespec/image-1.png" /></p>
<!-- <img src= "../images/til-typespec/image-1.png" alt="Swagger.io saying there are no operations"> -->

<p>Let's change that by building out our GET endpoint.</p>
<p>Back in <code>main.tsp</code>, let's add more code to our <code>Bookstore</code> namespace.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span>
<span class="normal"><a href="#__codelineno-23-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a>namespace Bookstore {
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>    @tag(&quot;Inventory&quot;)
<a id="__codelineno-23-3" name="__codelineno-23-3"></a>    @route(&quot;inventory&quot;)
<a id="__codelineno-23-4" name="__codelineno-23-4"></a>    namespace Inventory {
<a id="__codelineno-23-5" name="__codelineno-23-5"></a>        @get op getBook(@path bookId:string): string
<a id="__codelineno-23-6" name="__codelineno-23-6"></a>    }
<a id="__codelineno-23-7" name="__codelineno-23-7"></a>}
</code></pre></div></td></tr></table></div>
<p>After running <code>tsp compile .</code>, we'll see that our yaml has been updated and if we render it again, we'll have our first endpoint</p>
<p><img alt="Swagger.io rendering inventory by ID route" src="https://softwarementorblog.blob.core.windows.net/images/til-typespec/image-2.png" /></p>
<p>This is closer to what we want, however, we know that we're returning back a <code>string</code>, but a <code>Book</code>.</p>
<p>For this exercise, we'll say that a <code>Book</code> has the following:</p>
<ul>
<li>an id (of number)</li>
<li>a title (of string)</li>
<li>a price (of number, minimum 1)</li>
<li>author name (of string)</li>
</ul>
<p>Let's add this model to <code>main.tsp</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-24-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-24-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-24-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-24-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-24-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-24-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-24-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-24-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-24-10">10</a></span>
<span class="normal"><a href="#__codelineno-24-11">11</a></span>
<span class="normal"><a href="#__codelineno-24-12">12</a></span>
<span class="normal"><a href="#__codelineno-24-13">13</a></span>
<span class="normal"><a href="#__codelineno-24-14">14</a></span>
<span class="normal"><a href="#__codelineno-24-15">15</a></span>
<span class="normal"><a href="#__codelineno-24-16">16</a></span>
<span class="normal"><a href="#__codelineno-24-17">17</a></span>
<span class="normal"><a href="#__codelineno-24-18">18</a></span>
<span class="normal"><a href="#__codelineno-24-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a>namespace Bookstore {
<a id="__codelineno-24-2" name="__codelineno-24-2"></a>    // Note that we&#39;ve added this to the Bookstore namespace
<a id="__codelineno-24-3" name="__codelineno-24-3"></a>    model Book {
<a id="__codelineno-24-4" name="__codelineno-24-4"></a>        id: string;
<a id="__codelineno-24-5" name="__codelineno-24-5"></a>        title: string;
<a id="__codelineno-24-6" name="__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a>        @minValue(1)
<a id="__codelineno-24-8" name="__codelineno-24-8"></a>        price: decimal;
<a id="__codelineno-24-9" name="__codelineno-24-9"></a>
<a id="__codelineno-24-10" name="__codelineno-24-10"></a>        authorName: string;
<a id="__codelineno-24-11" name="__codelineno-24-11"></a>    }
<a id="__codelineno-24-12" name="__codelineno-24-12"></a>    @tag(&quot;Inventory&quot;)
<a id="__codelineno-24-13" name="__codelineno-24-13"></a>    @route(&quot;inventory&quot;)
<a id="__codelineno-24-14" name="__codelineno-24-14"></a>    namespace Inventory {
<a id="__codelineno-24-15" name="__codelineno-24-15"></a>
<a id="__codelineno-24-16" name="__codelineno-24-16"></a>        // For our get, we&#39;re now returning a Book, instead of a string.
<a id="__codelineno-24-17" name="__codelineno-24-17"></a>        @get op getBook(@path bookId: string): Book; 
<a id="__codelineno-24-18" name="__codelineno-24-18"></a>    }
<a id="__codelineno-24-19" name="__codelineno-24-19"></a>} 
</code></pre></div></td></tr></table></div>
<p>After another run of <code>tsp compile</code> and rendering the yaml file, we see that we have a schema for our get method now.</p>
<p><img alt="Swagger showing the updated model" src="https://softwarementorblog.blob.core.windows.net/images/til-typespec/image-3.png" /></p>
<h3 id="refactoring-a-model"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/#refactoring-a-model">Refactoring a Model</a></h3>
<p>Even though this works, the <code>Book</code> model is a bit lazy as it has the <code>authorName</code> as a property instead of an <code>Author</code> model which would have name (and a bit more information). Let's update <code>Book</code> to have an <code>Author</code> property.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-25-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-25-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-25-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-25-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-25-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-25-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-25-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-25-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-25-10">10</a></span>
<span class="normal"><a href="#__codelineno-25-11">11</a></span>
<span class="normal"><a href="#__codelineno-25-12">12</a></span>
<span class="normal"><a href="#__codelineno-25-13">13</a></span>
<span class="normal"><a href="#__codelineno-25-14">14</a></span>
<span class="normal"><a href="#__codelineno-25-15">15</a></span>
<span class="normal"><a href="#__codelineno-25-16">16</a></span>
<span class="normal"><a href="#__codelineno-25-17">17</a></span>
<span class="normal"><a href="#__codelineno-25-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a>model Author {
<a id="__codelineno-25-2" name="__codelineno-25-2"></a>    id: string;
<a id="__codelineno-25-3" name="__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a>    @minLength(1)
<a id="__codelineno-25-5" name="__codelineno-25-5"></a>    surname: string;
<a id="__codelineno-25-6" name="__codelineno-25-6"></a>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a>    @minLength(1)
<a id="__codelineno-25-8" name="__codelineno-25-8"></a>    givenName: string;
<a id="__codelineno-25-9" name="__codelineno-25-9"></a>}
<a id="__codelineno-25-10" name="__codelineno-25-10"></a>model Book {
<a id="__codelineno-25-11" name="__codelineno-25-11"></a>    id: string;
<a id="__codelineno-25-12" name="__codelineno-25-12"></a>    title: string;
<a id="__codelineno-25-13" name="__codelineno-25-13"></a>
<a id="__codelineno-25-14" name="__codelineno-25-14"></a>    @minValue(1)
<a id="__codelineno-25-15" name="__codelineno-25-15"></a>    price: decimal;
<a id="__codelineno-25-16" name="__codelineno-25-16"></a>
<a id="__codelineno-25-17" name="__codelineno-25-17"></a>    author: Author;
<a id="__codelineno-25-18" name="__codelineno-25-18"></a>}
</code></pre></div></td></tr></table></div>
<p>After making this change, we can see that we now have a nested model for <code>Book</code>.</p>
<p><img alt="Swagger showing both Book and Author model" src="https://softwarementorblog.blob.core.windows.net/images/til-typespec/image-4.png" /></p>
<h3 id="handling-failures"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/#handling-failures">Handling Failures</a></h3>
<p>We're definitely a step in the right direction, however, our API definition isn't quite done. Right now, it says that we'll always return a 200 status code.</p>
<p>I don't know about you, but our bookstore isn't good enough to generate books with fictitious IDs, so we need to update our contract to say that it can also return 404s.</p>
<p>Back in <code>main.tsp</code>, we're going to change our return type of the <code>@get</code> operation to instead of being a <code>Book</code>, it's actually a <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types">union type</a>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span>
<span class="normal"><a href="#__codelineno-26-7">7</a></span>
<span class="normal"><a href="#__codelineno-26-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a>@get op getBook(@path bookId: string): 
<a id="__codelineno-26-2" name="__codelineno-26-2"></a>// Either it returns a 200 with a body of Book
<a id="__codelineno-26-3" name="__codelineno-26-3"></a>{
<a id="__codelineno-26-4" name="__codelineno-26-4"></a>    @statusCode statusCode: 200;
<a id="__codelineno-26-5" name="__codelineno-26-5"></a>    @body book: Book;
<a id="__codelineno-26-6" name="__codelineno-26-6"></a>} | { // Or it will return a 404 with an empty body
<a id="__codelineno-26-7" name="__codelineno-26-7"></a>    @statusCode statusCode: 404;
<a id="__codelineno-26-8" name="__codelineno-26-8"></a>};
</code></pre></div></td></tr></table></div>
<p>With this final change, we can compile and render the yaml and see that route can return a 404 as well.</p>
<p><img alt="Swagger showing that the route can return a 404 as well" src="https://softwarementorblog.blob.core.windows.net/images/til-typespec/image-5.png" /></p>
<h3 id="next-steps"><a class="toclink" href="../../2024/07/02/today-i-learned---using-typespec-to-generate-openapi-specs/#next-steps">Next Steps</a></h3>
<p>When I first started with TypeSpec, my first thought was that you could put this code under continuous integration (CI) and have it produce the OpenAPI format as an artifact for other teams to pull in and auto-generate clients from.</p>
<p>If you're interested in learning more about that approach, <a href="mailto:CoachingCorner@TheSoftwareMentor.com?subject=I'd like to learn more about TypeSpec">drop me a line at the Coaching Corner</a> and I may write up my results in a future post.</p>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-06-18 00:00:00+00:00">Jun 18, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/leadership/" class="md-meta__link">Leadership</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="leadership-playbook-leading-through-change"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/">Leadership Playbook - Leading Through Change</a></h2>
<p>There are few fundamental truths in life, one of which is that the only consistent thing is change. Whether that's through a reorganization, someone leaving the team, or the start of a new initiative, we know that what happens today is different from yesterday, and as a leader, the team is looking to you to figure out how to navigate these changes.</p>
<p>In this post, I'll share some tips and tricks for leading the team through change.</p>
<h3 id="explain-the-reasoning"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/#explain-the-reasoning">Explain the Reasoning</a></h3>
<p>A common mistake I see leaders make is introducing a change without discussing <em>why</em> the change is happening. Let's look at a hypothetical situation where you're introducing the team to pull request templates.</p>
<blockquote>
<p>Hey team! Starting next sprint, we're going to start using this new PR template. You can find it ....</p>
</blockquote>
<p>On the one hand, the message is clear on what's changing (using new PR template). However, it completely missed the point, why are we making this change? When we don't include the why, we catch people off-guard because they may not immediately understand the problem that the change is supposed to solve.</p>
<p>When we put people in an information vacuum, they draw their own conclusions, which can give the wrong impression behind the change. This in turn, can cause the rumor mill to go into overdrive, making your job much harder.</p>
<p>Let's revisit the same scenario but include the "why" this time.</p>
<blockquote>
<p>Hey team! During our last retro, it was brought up that our pull requests descriptions aren't consistent, which makes reviewing them more difficult. To help build consistency, we're going to start using pull request templates. You can find it ....</p>
</blockquote>
<p>By making this small change, we can squash misinformation and potential rumor mills because we're clear on the reasoning.</p>
<p>Which is a great segue to...</p>
<h3 id="be-transparent-with-the-team"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/#be-transparent-with-the-team">Be Transparent With the Team</a></h3>
<p>When explaining the reason, don't lie or sugarcoat the reasoning, even if it makes you feel uncomfortable. Your team is smart and they'll know if you're lying to them.</p>
<p>A hot topic nowadays are Return to Office (RTO) plans, with a common reason being "need more in-person collaboration." Even though this provides a "why," it's not backed by metrics or anything measurable. In addition, in-person doesn't necessarily mean more collaboration.</p>
<p>A better approach is to use employee engagement surveys or customer satisfaction surveys to measure the effectiveness of team or company. If you can't use these metrics (or other relevant metrics), then why are you introducing this change?</p>
<p>Going back to our hypothetical RTO, let's say that the reason we're going back to the office is that we're a start-up whose investors have already paid for our space. To them, having people in the space helps them feel better that their money is well spent (in addition, some companies have a tax break if they moved to your state as long as they have a percentage of people on-site).</p>
<p>This is what you should be telling your team. They may not like the reason and they might disagree, but they know the why and then they can make their own decisions. Long story short, you're giving them the autonomy to make their own decisions because they have all the information.</p>
<h3 id="repetition"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/#repetition">Repetition</a></h3>
<p>Humans don't have perfect memories, right? So why would we expect that once we introduce a change that's the last time we need to talk about it? </p>
<p>Regardless of the change, don't be surprised if you need to mention it 3 or 4 times before people finally start understanding and applying the change. A <a href="https://www.linkedin.com/in/joeseto/">great mentor of mine</a> once told me that he would tell people about the change time and time again until it stuck. While this was happening, he would show patience, repeat the messaging, and answer questions and concerns.</p>
<p>When we hear of change, our first step is start processing the message and the immediate impacts. Some people will have questions immediately while others need time to stew on it. </p>
<p>Because of this, be available to answer questions as they come up (even if you've already answered them before). Be prepared for questions during one-on-ones, after meetings, or whenever they come up. </p>
<p>Acknowledge the questions and answer them. If you don't know the answer, tell them that you don't know and that you're going to find the answer. </p>
<h3 id="giving-space"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/#giving-space">Giving Space</a></h3>
<p>Don't be surprised that your team exhibits a wide range of emotions for more significant changes. </p>
<p>For example, if your company is doing layoffs, then it's reasonable for people to be upset, depressed, or mentally checked out. </p>
<p>When this happens, you have to give people space to process. This doesn't mean isolating them but being aware that they need some time and accommodate accordingly.</p>
<p>A common mistake I see leaders make here is introducing a change, thinking it was low impact, so they start making other changes. In reality, this change had a high impact, and now the team is under pressure to handle the original change and whatever new commitments are coming their way.</p>
<p>Not only does this reduce your odds of success, but this prevents your team from dealing with the changes, which can turn into stress or frustration. If this happens enough times, people will change teams (or even jobs) just to get a change of scenery and be able to process.</p>
<h3 id="reducing-change-fatigue"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/#reducing-change-fatigue">Reducing Change Fatigue</a></h3>
<p>Even though changes are going to happen, do not introduce one change this week, another next week, and then one more two weeks later.</p>
<p>As engineers, we learned that refactoring a codebase should be done in small steps to prevent functionality from breaking. </p>
<p>While this works great for code, this is terrible advice for humans. </p>
<p>When frequent changes happen, it becomes difficult to get into a rhythm with the work and the team, reducing the effectiveness of the team.</p>
<p>When we get changes happening like this, it becomes difficult to get into a rhythm with the work and the team. Especially if large changes keep happening every few weeks.</p>
<p>In the current landscape, we're seeing companies go through multiple rounds of layoffs. While this may keep them out of the news (no one reports that a company laid off ten people, even if it's the fourth time it's happened this year), it causes a feeling of dread for the survivors, as now they're thinking when they'll be next.</p>
<p>Instead of having multiple layoffs, if companies had one (albeit larger) layoff, this would allow people to have time to adjust and proceed without as much paranoia.</p>
<h3 id="wrapping-up"><a class="toclink" href="../../2024/06/18/leadership-playbook---leading-through-change/#wrapping-up">Wrapping Up</a></h3>
<p>Navigating change is hard - especially when you aren't just going through the change yourself, but also leading others at the same time. </p>
<p>The next time you're going through a change, try starting here and see how it goes</p>
<ul>
<li>Explain the "why" behind the change.</li>
<li>Be transparent about the changes, even if it's uncomfortable.</li>
<li>Be mindful that everyone processes change differently and may feel a greater impact or need more time to recover from teh change.</li>
</ul>
<p>By starting here, your chances of moving forward without significant disruption will improve dramatically.</p>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-06-13 00:00:00+00:00">Jun 13, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/typescript/" class="md-meta__link">TypeScript</a>, 
              <a href="../../category/today-i-learned/" class="md-meta__link">Today I Learned</a></li>
        
        
          
          <li class="md-meta__item">
            
              7 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="today-i-learned-validating-data-in-zod"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/">Today I Learned: Validating Data in Zod</a></h2>
<p>Validating input. You've got to do it, otherwise, you're going to be processing garbage, and that never goes well, right?</p>
<p>Whether it's through the front-end (via a form) or through the back-end (via an API call), it's important to make sure that the data we're processing is valid.</p>
<p>Coming from a C# background, I was used to ASP.NET Web Api's ability to create a class and then use the <a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-8.0#frombody-attribute"><code>FromBody attribute</code></a> for the appropriate route to ensure the data is good. By using this approach, ASP.NET will reject requests automatically that don't fit the data contract.</p>
<p>However, picking up JavaScript and TypeScript, that's not the case. At first, this surprised me because I figured that this would automatically happen when using libraries like Express or Nest.js. Thinking more about it, though, it shouldn't have surprised me. ASP.NET can catch those issues because it's a statically typed/ran language. JavaScript isn't and since TypeScript types are removed during the compilation phase, neither is statically typed at <em>runtime</em>.</p>
<p>When writing validations, I find <a href="https://github.com/colinhacks/zod">zod</a> to be a delightful library to leverage. There are a ton of useful built-in options, you can create your own validators (which you can then compose!) and you can infer models based off of your validations.</p>
<h3 id="building-the-amazin-bookstore"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#building-the-amazin-bookstore">Building the Amazin' Bookstore</a></h3>
<p>To demonstrate some of the cool things that you can do with Zod, let's pretend that we're building out a new POST endpoint for creating a new book. After talking to the business, we determine that the payload for a new book should look like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span>
<span class="normal"><a href="#__codelineno-24-4">4</a></span>
<span class="normal"><a href="#__codelineno-24-5">5</a></span>
<span class="normal"><a href="#__codelineno-24-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="c1">// A valid book will have the following</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="c1">// - A non-empty title</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="c1">// - A numeric price (can&#39;t be negative or zero)</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="c1">// - A genre from a list of possibilities (mystery, fantasy, history are examples, platypus would not be valid)</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="c1">// - An ISBN which must be in a particular format</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="c1">// - A valid author which must have a first name, a last name, and an optional middle name</span>
</code></pre></div></td></tr></table></div>
<h4 id="whats-in-a-name"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#whats-in-a-name">What's in a Name?</a></h4>
<p>Since the <code>Book</code> type needs a valid <code>Author</code>, let's build that out first:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">z</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;zod&quot;</span><span class="p">;</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Since <code>Author</code> will need to be an object, we'll use <code>z.object</code> to signify that. Right off the bat, this prevents a string, number, or other primitive types from being accepted.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">(</span><span class="s2">&quot;someString&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// will result in a failure</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">(</span><span class="mf">42</span><span class="p">);</span><span class="w"> </span><span class="c1">// will result in a failure</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">({});</span><span class="w"> </span><span class="c1">// will result in success!</span>
</code></pre></div></td></tr></table></div>
<p>This is a great start, but we know that Author has some required properties (like a first name), so let's implement that by using <code>z.string()</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">    </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">z.string</span><span class="p">()</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>With this change, let's take a look at our schema validation</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">({});</span><span class="w"> </span><span class="c1">// fails because no firstName property</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">({</span><span class="nx">firstName</span><span class="o">:</span><span class="kt">42</span><span class="p">});</span><span class="w"> </span><span class="c1">// fails because firstName is not a string</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">({</span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Cameron&quot;</span><span class="p">});</span><span class="w"> </span><span class="c1">// succeeds because firstName is present and a string</span>
</code></pre></div></td></tr></table></div>
<p>However, there's one problem with our validation. We would allow an empty <code>firstName</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="nx">AuthorSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">({</span><span class="nx">firstName</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">});</span><span class="w"> </span><span class="c1">// succeeds, but should have failed :(</span>
</code></pre></div></td></tr></table></div>
<p>To make our validation stronger, we can update our <code>firstName</code> property to have a minimum length of 1 like so.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span>
<span class="normal"><a href="#__codelineno-30-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="w">    </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">z.string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Finally, we have a way to enforce that an author has a non-empty firstName!. Looking at the requirements, it seems like <code>lastName</code> is going to be similar, so let's update our <code>AuthorSchema</code> to include lastName.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span>
<span class="normal"><a href="#__codelineno-31-3">3</a></span>
<span class="normal"><a href="#__codelineno-31-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="w">    </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">z.string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mf">1</span><span class="p">),</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="w">    </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="kt">z.string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Hmmm, it looks like we have the same concept in multiple places, the idea of a non empty string. Let's refactor that to its own schema.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span>
<span class="normal"><a href="#__codelineno-32-5">5</a></span>
<span class="normal"><a href="#__codelineno-32-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">NonEmptyStringSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">    </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">    </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Nice! We're almost done with <code>Author</code>, we need to implement <code>middleName</code>. Unlike the other properties, an author may not have a middle name. In this case, we're going to leverage the <code>optional</code> function from zod to signify that as so.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span>
<span class="normal"><a href="#__codelineno-33-7">7</a></span>
<span class="normal"><a href="#__codelineno-33-8">8</a></span>
<span class="normal"><a href="#__codelineno-33-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">NonEmptyStringSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="w">    </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">    </span><span class="c1">// This would read that middleName may or not may be present. </span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">    </span><span class="c1">// If it is, then it must be a string (could be empty)</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">    </span><span class="nx">middleName</span><span class="o">:</span><span class="w"> </span><span class="kt">z.string</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span><span class="w"> </span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>With the implementation of <code>AuthorSchema</code>, we can start working on the <code>BookSchema</code>.</p>
<h4 id="judging-a-book-by-its-cover"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#judging-a-book-by-its-cover">Judging a Book By It's Cover</a></h4>
<p>Since we have <code>AuthorSchema</code>, we can use that as our start as so:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span>
<span class="normal"><a href="#__codelineno-34-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>We know that a book must have a non-empty title, so let's add that to our definition. Since it's a string that must have at least one character, we can reuse the <code>NonEmptyStringSchema</code> definition from before.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span>
<span class="normal"><a href="#__codelineno-35-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<h4 id="putting-a-price-on-knowledge"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#putting-a-price-on-knowledge">Putting a Price on Knowledge</a></h4>
<p>With title in place, let's leave the string theory alone for a bit and look at numbers. In order for the bookstore to function, we've got sell books for some price. Let's use <code>z.number()</code> and add a <code>price</code> property.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span>
<span class="normal"><a href="#__codelineno-36-4">4</a></span>
<span class="normal"><a href="#__codelineno-36-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="w">    </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">z.number</span><span class="p">()</span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>This works, however, <code>z.number()</code> will accept <em>any</em> number, which includes numbers like <code>0</code> and <code>-5</code>. While those values would be great for the customer, we can't run our business that way. So let's update our price to only include positive numbers, which can be accomplished by leveraging the <code>positive</code> function.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span>
<span class="normal"><a href="#__codelineno-37-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">    </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">z.number</span><span class="p">().</span><span class="nx">positive</span><span class="p">()</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>With price done, let's look at validating the genre.</p>
<h4 id="would-you-say-its-a-mystery-or-history"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#would-you-say-its-a-mystery-or-history">Would You Say It's a Mystery or History?</a></h4>
<p>Up to this point, all of our properties have been straightforward (simple strings and numbers). However, with <code>genre</code>, things get more complicated because it can only be one of a particular set of values. Thankfully, we can define a <code>GenreSchema</code> by using <code>z.enum()</code> like so. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">GenreSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kd">enum</span><span class="p">([</span><span class="s2">&quot;Fantasy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;History&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Mystery&quot;</span><span class="p">]);</span>
</code></pre></div></td></tr></table></div>
<p>With this definition, a valid genre can <em>only be</em> fantasy, history, or mystery. Let's update our book definition to use this new schema.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span>
<span class="normal"><a href="#__codelineno-39-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">    </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">z.number</span><span class="p">().</span><span class="nx">positive</span><span class="p">(),</span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">    </span><span class="nx">genre</span><span class="o">:</span><span class="w"> </span><span class="kt">GenreSchema</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Now, someone can't POST a book with a genre of "platypus" (though I'd enjoy reading such a book).</p>
<h4 id="id-please"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#id-please">ID Please</a></h4>
<p>Last, let's take a look at implementing the <code>isbn</code> property. This is interesting because ISBNs can be in one of two shapes: ISBN-10 (for books pre-2007) and ISBN-13 (all other books).</p>
<p>To make this problem easier, let's focus on the ISBN-10 format for now. A valid value will be in the form of <code>#-###-#####-#</code> (where # is a number). Now, you can <a href="https://en.wikipedia.org/wiki/ISBN#ISBN-10_check_digit_calculation">take this a whole lot further</a>, but we'll keep on the format.</p>
<p>Now, even though <code>zod</code> has built-in validators for emails, ips, and urls, there's not a built-in one for ISBNs. In these cases, we can use <code>.refine</code> to add our logic. But this is a good use case for a basic regular expression. Using <a href="https://regex101.com/">regex101</a> as a guide, we end up with the following expression and schema for the ISBN.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">isbn10Regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d-\d{3}-\d{5}-\d/</span><span class="p">;</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Isbn10Schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="nx">isbn10Regex</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Building onto that, an ISBN-13 is in a similar format, but has the form of <code>###-#-##-######-#</code>. By tweaking our regex, we end up with the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">isbn13Regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d{3}-\d-\d{2}-\d{6}-\d/</span><span class="p">;</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Isbn13Schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="nx">isbn13Regex</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>When modeling types in TypeScript, I'd like to be able to do something like the following as this makes it clear that an ISBN can in one of these two shapes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kr">type</span><span class="w"> </span><span class="nx">Isbn10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="kr">type</span><span class="w"> </span><span class="nx">Isbn13</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="kr">type</span><span class="w"> </span><span class="nx">Isbn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Isbn10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Isbn13</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>While we can't use the <code>|</code> operator, we can use the <code>.or</code> function from zod to have the following</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span>
<span class="normal"><a href="#__codelineno-43-4">4</a></span>
<span class="normal"><a href="#__codelineno-43-5">5</a></span>
<span class="normal"><a href="#__codelineno-43-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">isbn10Regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d-\d{3}-\d{5}-\d/</span><span class="p">;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Isbn10Schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="nx">isbn10Regex</span><span class="p">);</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">isbn13Regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d{3}-\d-\d{2}-\d{6}-\d/</span><span class="p">;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Isbn13Schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="nx">isbn13Regex</span><span class="p">);</span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">IsbnSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Isbn10Schema</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">Isbn13Schema</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>With the <code>IsbnSchema</code> in place, let's add it to <code>BookSchema</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span>
<span class="normal"><a href="#__codelineno-44-4">4</a></span>
<span class="normal"><a href="#__codelineno-44-5">5</a></span>
<span class="normal"><a href="#__codelineno-44-6">6</a></span>
<span class="normal"><a href="#__codelineno-44-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="w">    </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">z.number</span><span class="p">().</span><span class="nx">positive</span><span class="p">(),</span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">    </span><span class="nx">genre</span><span class="o">:</span><span class="w"> </span><span class="kt">GenreSchema</span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a><span class="w">    </span><span class="nx">isbn</span><span class="o">:</span><span class="w"> </span><span class="kt">IsbnSchema</span>
<a id="__codelineno-44-7" name="__codelineno-44-7"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<h4 id="getting-models-for-free"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#getting-models-for-free">Getting Models for Free</a></h4>
<p>Lastly, one of the cooler functions that zod supports is <code>infer</code> where if you pass it a schema, it can build out a type for you to use in your application. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span>
<span class="normal"><a href="#__codelineno-45-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">    </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyStringSchema</span><span class="p">,</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">z.number</span><span class="p">().</span><span class="nx">positive</span><span class="p">(),</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">    </span><span class="nx">genre</span><span class="o">:</span><span class="w"> </span><span class="kt">GenreSchema</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">    </span><span class="nx">isbn</span><span class="o">:</span><span class="w"> </span><span class="kt">IsbnSchema</span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="p">});</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="c1">// TypeScript knows that Book must have an author (which has a firstName, lastName, and maybe a middleName)</span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="c1">// a title (string), a price (number), a genre (string), and an isbn (string).</span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">Book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">infer</span><span class="o">&lt;</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">BookSchema</span><span class="o">&gt;</span><span class="p">;</span><span class="w"> </span>
</code></pre></div></td></tr></table></div>
<h3 id="full-solution"><a class="toclink" href="../../2024/06/13/today-i-learned-validating-data-in-zod/#full-solution">Full Solution</a></h3>
<p>Here's what the full solution looks like</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-46-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-46-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-46-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-46-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-46-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-46-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-46-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-46-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-46-10">10</a></span>
<span class="normal"><a href="#__codelineno-46-11">11</a></span>
<span class="normal"><a href="#__codelineno-46-12">12</a></span>
<span class="normal"><a href="#__codelineno-46-13">13</a></span>
<span class="normal"><a href="#__codelineno-46-14">14</a></span>
<span class="normal"><a href="#__codelineno-46-15">15</a></span>
<span class="normal"><a href="#__codelineno-46-16">16</a></span>
<span class="normal"><a href="#__codelineno-46-17">17</a></span>
<span class="normal"><a href="#__codelineno-46-18">18</a></span>
<span class="normal"><a href="#__codelineno-46-19">19</a></span>
<span class="normal"><a href="#__codelineno-46-20">20</a></span>
<span class="normal"><a href="#__codelineno-46-21">21</a></span>
<span class="normal"><a href="#__codelineno-46-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">NonEmptyStringSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">GenreSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kd">enum</span><span class="p">([</span><span class="s2">&quot;Fantasy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;History&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Mystery&quot;</span><span class="p">]);</span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthorSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="w">  </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyString</span><span class="p">,</span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="w">  </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyString</span><span class="p">,</span>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="w">  </span><span class="nx">middleName</span><span class="o">:</span><span class="w"> </span><span class="kt">z.string</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="p">});</span>
<a id="__codelineno-46-9" name="__codelineno-46-9"></a>
<a id="__codelineno-46-10" name="__codelineno-46-10"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Isbn10Schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/^\d-\d{2}-\d{6}-\d/</span><span class="p">);</span>
<a id="__codelineno-46-11" name="__codelineno-46-11"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Isbn13Schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="kt">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/^\d{3}-\d-\d{2}-\d{6}-\d/</span><span class="p">);</span>
<a id="__codelineno-46-12" name="__codelineno-46-12"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">IsbnSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Isbn10Schema</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">Isbn13Schema</span><span class="p">);</span>
<a id="__codelineno-46-13" name="__codelineno-46-13"></a>
<a id="__codelineno-46-14" name="__codelineno-46-14"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">BookSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
<a id="__codelineno-46-15" name="__codelineno-46-15"></a><span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">NonEmptyString</span><span class="p">,</span>
<a id="__codelineno-46-16" name="__codelineno-46-16"></a><span class="w">  </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthorSchema</span><span class="p">,</span>
<a id="__codelineno-46-17" name="__codelineno-46-17"></a><span class="w">  </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">z.number</span><span class="p">().</span><span class="nx">positive</span><span class="p">(),</span>
<a id="__codelineno-46-18" name="__codelineno-46-18"></a><span class="w">  </span><span class="nx">genre</span><span class="o">:</span><span class="w"> </span><span class="kt">GenreSchema</span><span class="p">,</span>
<a id="__codelineno-46-19" name="__codelineno-46-19"></a><span class="w">  </span><span class="nx">isbn</span><span class="o">:</span><span class="w"> </span><span class="kt">IsbnSchema</span><span class="p">,</span>
<a id="__codelineno-46-20" name="__codelineno-46-20"></a><span class="p">});</span>
<a id="__codelineno-46-21" name="__codelineno-46-21"></a>
<a id="__codelineno-46-22" name="__codelineno-46-22"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">Book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">.</span><span class="nx">infer</span><span class="o">&lt;</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">BookSchema</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>With these schemas and models defined, we can leverage the <code>safeParse</code> function to see if our input is valid.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-47-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-47-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-47-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-47-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-47-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-47-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-47-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-47-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-47-10">10</a></span>
<span class="normal"><a href="#__codelineno-47-11">11</a></span>
<span class="normal"><a href="#__codelineno-47-12">12</a></span>
<span class="normal"><a href="#__codelineno-47-13">13</a></span>
<span class="normal"><a href="#__codelineno-47-14">14</a></span>
<span class="normal"><a href="#__codelineno-47-15">15</a></span>
<span class="normal"><a href="#__codelineno-47-16">16</a></span>
<span class="normal"><a href="#__codelineno-47-17">17</a></span>
<span class="normal"><a href="#__codelineno-47-18">18</a></span>
<span class="normal"><a href="#__codelineno-47-19">19</a></span>
<span class="normal"><a href="#__codelineno-47-20">20</a></span>
<span class="normal"><a href="#__codelineno-47-21">21</a></span>
<span class="normal"><a href="#__codelineno-47-22">22</a></span>
<span class="normal"><a href="#__codelineno-47-23">23</a></span>
<span class="normal"><a href="#__codelineno-47-24">24</a></span>
<span class="normal"><a href="#__codelineno-47-25">25</a></span>
<span class="normal"><a href="#__codelineno-47-26">26</a></span>
<span class="normal"><a href="#__codelineno-47-27">27</a></span>
<span class="normal"><a href="#__codelineno-47-28">28</a></span>
<span class="normal"><a href="#__codelineno-47-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;when validating a book&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;and the author is missing, then it&#39;s not valid&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">title</span><span class="o">:</span><span class="s2">&quot;best book&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">price</span><span class="o">:</span><span class="kt">200</span><span class="p">,</span><span class="w"> </span><span class="nx">genre</span><span class="o">:</span><span class="s2">&quot;History&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">isbn</span><span class="o">:</span><span class="s2">&quot;1-23-456789-0&quot;</span><span class="p">}</span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">BookSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="w">        </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a><span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;and all the fields are valid, then the book is valid&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-10" name="__codelineno-47-10"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-11" name="__codelineno-47-11"></a><span class="w">            </span><span class="nx">title</span><span class="o">:</span><span class="s2">&quot;best book&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="w">            </span><span class="nx">price</span><span class="o">:</span><span class="kt">200</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-47-13" name="__codelineno-47-13"></a><span class="w">            </span><span class="nx">genre</span><span class="o">:</span><span class="s2">&quot;History&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-47-14" name="__codelineno-47-14"></a><span class="w">            </span><span class="nx">isbn</span><span class="o">:</span><span class="s2">&quot;1-23-456789-0&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-47-15" name="__codelineno-47-15"></a><span class="w">            </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-16" name="__codelineno-47-16"></a><span class="w">                </span><span class="nx">firstName</span><span class="o">:</span><span class="s2">&quot;Super&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-47-17" name="__codelineno-47-17"></a><span class="w">                </span><span class="nx">middleName</span><span class="o">:</span><span class="s2">&quot;Cool&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-47-18" name="__codelineno-47-18"></a><span class="w">                </span><span class="nx">lastName</span><span class="o">:</span><span class="s2">&quot;Author&quot;</span>
<a id="__codelineno-47-19" name="__codelineno-47-19"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-47-20" name="__codelineno-47-20"></a><span class="w">        </span><span class="p">};</span>
<a id="__codelineno-47-21" name="__codelineno-47-21"></a>
<a id="__codelineno-47-22" name="__codelineno-47-22"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">BookSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
<a id="__codelineno-47-23" name="__codelineno-47-23"></a>
<a id="__codelineno-47-24" name="__codelineno-47-24"></a><span class="w">        </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-47-25" name="__codelineno-47-25"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">book</span><span class="o">:</span><span class="kt">Book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Book</span><span class="p">;</span>
<a id="__codelineno-47-26" name="__codelineno-47-26"></a><span class="w">        </span><span class="c1">// now we can start using properties from book</span>
<a id="__codelineno-47-27" name="__codelineno-47-27"></a><span class="w">        </span><span class="nx">expect</span><span class="p">(</span><span class="nx">book</span><span class="p">.</span><span class="nx">title</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s2">&quot;best book&quot;</span><span class="p">);</span>
<a id="__codelineno-47-28" name="__codelineno-47-28"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-47-29" name="__codelineno-47-29"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-06-03 00:00:00+00:00">Jun 3, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/coaching-corner/" class="md-meta__link">Coaching Corner</a>, 
              <a href="../../category/career/" class="md-meta__link">Career</a></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="coaching-corner-volume-5"><a class="toclink" href="../../2024/06/03/coaching-corner-volume-5/">Coaching Corner Volume 5</a></h2>
<p>Welcome to Cameron's Coaching Corner, where we answer questions from readers about leadership, career, and software engineering.</p>
<p>In this post, we'll look at a question from <em>TheRefsAlwaysWin</em> about how to get a new engineer on their team to open up and get comfortable asking for help.</p>
<div class="admonition quote">
<p>I've got a newish member to the team and they're still early in their career. They've got a good head on their shoulders, however, they tend to go down rabbit holes when problem solving and they don't speak up or ask for help.</p>
<p>They've asked me a few times about "how did I know ....", and a lot of the times, it's experience (I've been doing this for a few decades now).</p>
<p>How do I help them open up and ask more questions to the team and group?</p>
</div>

    
      <nav class="md-post__action">
        <a href="../../2024/06/03/coaching-corner-volume-5/">
          Continue reading
        </a>
      </nav>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-05-30 00:00:00+00:00">May 30, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/functional-programming/" class="md-meta__link">Functional Programming</a>, 
              <a href="../../category/typescript/" class="md-meta__link">TypeScript</a></li>
        
        
          
          <li class="md-meta__item">
            
              6 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="functional-foundations-functions"><a class="toclink" href="../../2024/05/30/functional-foundations---functions/">Functional Foundations - Functions</a></h2>
<p>When leveraging functional programming, you're not going to go far without functions. It's literally in the name.</p>
<p>In this post, let's take a deeper look at what functions are and some of the benefits we gain.</p>
<h3 id="what-is-a-function"><a class="toclink" href="../../2024/05/30/functional-foundations---functions/#what-is-a-function">What is a Function?</a></h3>
<p>When we talk about <em>functions</em>, we're not talking about a programming construct (like the <code>function</code> keyword), but instead we're talking about functions from mathematics.</p>
<blockquote>
<p>As such, a <em>function</em> is a mapping from two sets such that for every element of the first set, it maps to a single element in the second set.</p>
</blockquote>
<p>Words are cool, but pictures are better. So let's look at the mapping for the <code>square</code> function.</p>
<p><img alt="Mapping for the Square Function" src="https://softwarementorblog.blob.core.windows.net/images/functional-functions/squaredFunction.png" width="800px" /></p>
<p>In this example, we have an arrow coming from an element on the left where it <em>maps</em> to an element on the right. To read this image, we have a mapping called <em>Square</em> that maps all possible numbers to the set of positive numbers. So -3 maps to 9 (-3<em>-3), 2 maps to 4 (2</em>2), so on and so forth.</p>
<p>To check if our mapping is a function, we need to check that every element on the left is mapped to a single element on the right. If so, then we've got a function!</p>
<p>Sounds easy, right? Let's take a look at a mapping that isn't a function.</p>
<h3 id="love-in-the-air"><a class="toclink" href="../../2024/05/30/functional-foundations---functions/#love-in-the-air">Love in the Air?</a></h3>
<p>When working with dates, it's common to figure out how many days are in the month. Not only does this help with billable days, but it also makes sure that we don't try to send invoices on May 32nd.</p>
<p>So let's take a look at a mapping from month to the number of days it has.</p>
<p><img alt="Broken Mapping for the Days In Month Function" src="https://softwarementorblog.blob.core.windows.net/images/functional-functions/daysInMonthBusted.png" width="800px" /></p>
<p>Looking at the mapping, we can tell that January, March, May map to 31, April and June both map to 30. But take a look at February. It's got <em>two</em> arrows coming out of it, one to 28 and the other to 29. Because there are two arrows coming out, this mapping isn't a function. Let's try to implement this mapping in TypeScript.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kr">type</span><span class="w"> </span><span class="nx">Month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Jan&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Feb&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Mar&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Apr&quot;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;May&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Jun&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Jul&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Aug&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">           </span><span class="o">|</span><span class="s2">&quot;Sept&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Oct&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Nov&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Dec&quot;</span><span class="p">;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="kr">type</span><span class="w"> </span><span class="nx">DaysInMonth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">28</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">29</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">30</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">31</span><span class="p">;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="kd">function</span><span class="w"> </span><span class="nx">getDaysInMonth</span><span class="p">(</span><span class="nx">month</span><span class="o">:</span><span class="w"> </span><span class="kt">Month</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">DaysInMonth</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">month</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Jan&quot;</span><span class="o">:</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Mar&quot;</span><span class="o">:</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;May&quot;</span><span class="o">:</span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Jul&quot;</span><span class="o">:</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Oct&quot;</span><span class="o">:</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Dec&quot;</span><span class="o">:</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="mf">31</span><span class="p">;</span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Feb&quot;</span><span class="o">:</span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">      </span><span class="c1">// what should this be?</span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Apr&quot;</span><span class="o">:</span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Jun&quot;</span><span class="o">:</span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Aug&quot;</span><span class="o">:</span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Sept&quot;</span><span class="o">:</span>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Nov&quot;</span><span class="o">:</span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="mf">30</span><span class="p">;</span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>We can't return 28 all the time (we'd be wrong 25% of the time) and we can't return 29 all the time (as we'd be wrong 75% of the time). So how do we know? We need to know something about the year. One approach would be to check if the current year is a leap year (<a href="https://learn.microsoft.com/en-us/office/troubleshoot/excel/determine-a-leap-year">algorithm</a>).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">isLeapYear</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">getFullYear</span><span class="p">();</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">400</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="p">}</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="c1">// Updated switch</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="k">case</span><span class="w"> </span><span class="s1">&#39;Feb&#39;</span><span class="o">:</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">isLeapYear</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">29</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">28</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>The problem with this approach is that the determination of what to return isn't from the function's inputs, but outside state (in this case, time). So while this "works", you can get bit when you have tests that start failing when the calendar flips over because it assumed that February always had 28 days.</p>
<p>If we look at the type signature of <code>isLeapYear</code>, we can see that it takes in no inputs, but returns a boolean. How can that be possible except if it always returned a constant value? This is a clue that <code>isLeapYear</code> is not a function.</p>
<p>The better approach is to change our mapping to instead of taking just a month name, it takes two arguments, a <code>monthName</code> and <code>year</code>.</p>
<p><img alt="Fixed Mapping For Days In Month" src="https://softwarementorblog.blob.core.windows.net/images/functional-functions/daysInMonthFixed.png" width="800px" /></p>
<p>With this new mapping, our implementation would look like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">isLeapYear</span><span class="p">(</span><span class="nx">year</span><span class="o">:</span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">400</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="p">}</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="kd">function</span><span class="w"> </span><span class="nx">getDaysInMonth</span><span class="p">(</span><span class="nx">month</span><span class="o">:</span><span class="w"> </span><span class="kt">Month</span><span class="p">,</span><span class="w"> </span><span class="nx">year</span><span class="o">:</span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">DaysInMonth</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isLeap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isLeapYear</span><span class="p">(</span><span class="nx">year</span><span class="p">);</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">month</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Jan&quot;</span><span class="o">:</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Mar&quot;</span><span class="o">:</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;May&quot;</span><span class="o">:</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Jul&quot;</span><span class="o">:</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Oct&quot;</span><span class="o">:</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Dec&quot;</span><span class="o">:</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="mf">31</span><span class="p">;</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Feb&quot;</span><span class="o">:</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">isLeap</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">29</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">28</span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Apr&quot;</span><span class="o">:</span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Jun&quot;</span><span class="o">:</span>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Aug&quot;</span><span class="o">:</span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Sept&quot;</span><span class="o">:</span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;Nov&quot;</span><span class="o">:</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="mf">30</span><span class="p">;</span>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="benefits-of-functions"><a class="toclink" href="../../2024/05/30/functional-foundations---functions/#benefits-of-functions">Benefits of Functions</a></h3>
<p>Now that we've covered what functions are and aren't, let's cover some of the reasons why we prefer functions for our logic.</p>
<p>First, mappings help us make sure that we've covered all our bases. We saw in the <code>getDaysInMonth</code> function we found a bug for when the month was February. Mappings can also be great conversation tools with non-engineers as they're intuitive to understand and to explain.</p>
<p>Second, functions are simple to test. Since the result is based solely on inputs, they are great candidates for unit testing and require little to no mocking to write them. I don't know about you, but I like simple test cases that help us build confidence that our application is working as intended.</p>
<p>Third, we can combine functions to make bigger functions using <em>composition</em>. At a high level, composition says that if we have two functions <code>f</code> and <code>g</code>, we can write a new function, <code>h</code> which takes the output of <code>f</code> and feeds it as the input for <code>g</code>.</p>
<p>Sounds theoretical, but let's take a look at a real example.</p>
<p>In the <a href="../../2020/05/20/learning-through-example--mars-rover-kata/">Mars Rover kata</a>, we end up building a basic console application that takes the input from the user (a string) and will need to convert it to the action that the rover takes.</p>
<p>In code, the logic looks like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kd">let</span><span class="w"> </span><span class="nx">rover</span><span class="o">:</span><span class="kt">Rover</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">direction</span><span class="o">:</span><span class="s1">&#39;North&#39;</span><span class="p">};</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">input</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">convertStringToCommand</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">convertCommandToAction</span><span class="p">);</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="nx">rover</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">action</span><span class="p">(</span><span class="nx">rover</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>The annoying part is that we're iterating the list twice (once for each <code>map</code> call), and it'd be nice to get it down to a single iteration. This is where composition helps.</p>
<p>When we're running the <code>map</code>s back-to-back, we're accomplish the following workflow</p>
<p><img alt="Input to Command to Action Mapping" src="https://softwarementorblog.blob.core.windows.net/images/functional-functions/commandToActionMapping.png" width="1000px" /></p>
<p>Because each mapping is a function, we can compose the two into a new function, <code>stringToActionConverter</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="c1">// using our f and g naming from earlier, convertString is f, convertCommand is g</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">stringToActionConverter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="o">:</span><span class="kt">string</span><span class="p">)=&gt;</span><span class="nx">convertCommandToAction</span><span class="p">(</span><span class="nx">convertStringToCommand</span><span class="p">(</span><span class="nx">s</span><span class="p">));</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="kd">let</span><span class="w"> </span><span class="nx">rover</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">direction</span><span class="o">:</span><span class="s1">&#39;North&#39;</span><span class="p">}</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="kd">const</span><span class="w"> </span><span class="nx">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">input</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">stringToActionConverter</span><span class="p">);</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="nx">rover</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">action</span><span class="p">(</span><span class="nx">rover</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h3 id="why-not-function-all-the-things"><a class="toclink" href="../../2024/05/30/functional-foundations---functions/#why-not-function-all-the-things">Why Not Function All the Things?</a></h3>
<p>Functions can greatly simplify our mental model as we don't have to keep track of state or other side effects. However, our applications typically deal with side affects (getting input from users, reading from files, interacting with databases) in order to do something useful. Because of this limitation, we strive to put all of our business rules into functions and keep the parts that interact with state as dumb as possible (that way we don't have to troubleshoot as much).</p>
<p>What I've found is that when working with applications, you end up with a <em>workflow</em> where you have input come in, gets processed, and then the result gets outputted.</p>
<p>Here's what an example workflow would look like</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1">// Logic to determine the &#39;FizzBuzziness&#39; of a number</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">determineFizzBuzz</span><span class="p">(</span><span class="nx">input</span><span class="o">:</span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">input</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">15</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;FizzBuzz&#39;</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">input</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Fizz&#39;</span><span class="p">;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">input</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Buzz&#39;</span><span class="p">;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">input</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="p">}</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="kd">function</span><span class="w"> </span><span class="nx">workflow</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="w">  </span><span class="c1">// Input Boundary</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">prompt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;prompt-sync&#39;</span><span class="p">)();</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">prompt</span><span class="p">();</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">  </span><span class="c1">// Business Rules</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="nx">input</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">input</span><span class="si">}</span><span class="sb"> FizzBuzz value is </span><span class="si">${</span><span class="nx">determineFizzBuzz</span><span class="p">(</span><span class="o">+</span><span class="nx">input</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="sb">`Invalid input`</span><span class="p">;</span>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="w">  </span><span class="c1">// Output boundary</span>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="whats-next"><a class="toclink" href="../../2024/05/30/functional-foundations---functions/#whats-next">What's Next?</a></h3>
<p>Now that we have a rough understanding of functions, we can start exploring what happens when things go wrong. For example, could there have been a cleaner way of implementing the business rules of our workflow?</p>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-05-26 00:00:00+00:00">May 26, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/today-i-learned/" class="md-meta__link">Today I Learned</a>, 
              <a href="../../category/c/" class="md-meta__link">C#</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="today-i-learned-primary-constructors"><a class="toclink" href="../../2024/05/26/today-i-learned---primary-constructors/">Today I Learned - Primary Constructors</a></h2>
<p>I've recently found myself picking up C# again for a project and even though much of my knowledge applies, I recently found the following and it took me a minute to figure out what's up.</p>
<p>Let's say that we're working on the <a href="../../2020/05/20/learning-through-example--mars-rover-kata/">Mars Rover kata</a> and we've decided to model the <em>Rover</em> type as a class with three fields: <em>x, y, and direction</em>.</p>
<p>My normal approach to this problem would have been the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">Direction</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">  </span><span class="n">North</span><span class="p">,</span><span class="w"> </span><span class="n">South</span><span class="p">,</span><span class="w"> </span><span class="n">East</span><span class="p">,</span><span class="w"> </span><span class="n">West</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="p">}</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Rover</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="p">{</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">_x</span><span class="p">;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">_y</span><span class="p">;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">_direction</span><span class="p">;</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rover</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">direction</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">    </span><span class="n">_x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">    </span><span class="n">_y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="w">    </span><span class="n">_direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Direction</span><span class="p">;</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">()</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Rover is at ({_x}, {_y}) facing {_direction}&quot;</span><span class="p">);</span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="p">}</span>
<a id="__codelineno-4-24" name="__codelineno-4-24"></a>
<a id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="c1">// Example usage</span>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="kt">var</span><span class="w"> </span><span class="n">rover</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rover</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="p">.</span><span class="n">North</span><span class="p">);</span>
<a id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="n">rover</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span><span class="w"> </span><span class="c1">// Rover is at (10, 20) facing North</span>
</code></pre></div></td></tr></table></div>
<p>However, in the code I was working with, I saw the <code>Rover</code> definition as this</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1">// note the params at the class line here</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nf">Rover</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">direction</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">()</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Rover is at ({x}, {y}) facing {direction}&quot;</span><span class="p">);</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="p">}</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="c1">// Example Usage</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="kt">var</span><span class="w"> </span><span class="n">rover</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rover</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="p">.</span><span class="n">North</span><span class="p">);</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="n">rover</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span><span class="w"> </span><span class="c1">// Rover is at (10, 20) facing North</span>
</code></pre></div></td></tr></table></div>
<p>At first, I thought this was similar to the <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/record">record</a> syntax for holding onto data</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">public</span><span class="w"> </span><span class="k">record</span><span class="w"> </span><span class="nf">Rover</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">Direction</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>And it turns out, that it is! This feature is known as a <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/instance-constructors#primary-constructors">primary constructor</a> and when used with classes, it gives you some flexibility on how you want to access those inputs.</p>
<p>For example, in our second implementation of Rover, we're directly using <code>x</code>, <code>y</code>, and <code>direction</code> in  the <code>Print</code> method.</p>
<p>However, let's say that we didn't want to use those properties directly (or if we need to set some state based on those inputs), then we could do the following.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nf">Rover</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">direction</span><span class="p">)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isFacingRightDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direction</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Direction</span><span class="p">.</span><span class="n">North</span><span class="p">;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">()</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_isFacingRightDirection</span><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Rover is facing the correct direction!&quot;</span><span class="p">);</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Rover is at ({x}, {y}) facing {direction}&quot;</span><span class="p">);</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>After playing around this for a bit, I can see how this feature would be beneficial for classes that only store their constructor arguments for later usage.</p>
<p>Even though Records accomplish that better, you can't attach functionality to Records, but you can with classes, so it does provide better organization from that front.</p>
<p>That being said, I'm not 100% sure why we needed to add the primary constructor feature to the language as this now opens up multiple ways of setting up constructors. I'm all for giving developers choices, but this seems ripe for <a href="https://en.wiktionary.org/wiki/bikeshedding">bike shedding</a> where teams have to decide which approach to stick with.</p>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-05-10 00:00:00+00:00">May 10, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/typescript/" class="md-meta__link">TypeScript</a>, 
              <a href="../../category/today-i-learned/" class="md-meta__link">Today I Learned</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="today-i-learned-destructure-objects-in-function-signatures"><a class="toclink" href="../../2024/05/10/today-i-learned-destructure-objects-in-function-signatures/">Today I Learned: Destructure Objects in Function Signatures</a></h2>
<p>When modeling types, one thing to keep in mind is to not leverage <a href="https://refactoring.guru/smells/primitive-obsession">primitive types</a> for your domain. This comes up when we use a primitive type (like a string) to represent core domain concepts (like a Social Security Number or a Phone Number).</p>
<p>Here's an example where it can become problematic:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">// Definition for Customer</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kr">type</span><span class="w"> </span><span class="nx">Customer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">  </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">  </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">  </span><span class="nx">phoneNumber</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="p">}</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="c1">// Function to send an email to customer about a new sale</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">sendEmailToCustomer</span><span class="p">(</span><span class="nx">c</span><span class="o">:</span><span class="kt">Customer</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Look at these deals!&quot;</span><span class="p">;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">  </span><span class="c1">// Uh oh, we&#39;re trying to send an email to a phone number...</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">phoneNumber</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="p">);</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="p">}</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">email</span><span class="o">:</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="o">:</span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="w">  </span><span class="c1">// logic to send email</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>There's a bug in this code, where we're trying to send an email to a phone number. Unfortunately, this code type checks and compiles, so we have to lean on other techniques (automated testing or code reviews) to discover the bug.</p>
<p>Since it's better to find issues earlier in the process, we can make this a compilation error by introducing a new type for <code>Email</code> since not all strings should be treated equally.</p>
<p>One approach we can do is to create a <a href="https://stackoverflow.com/questions/61646400/difference-union-types-and-discriminated-unions-typescript-f/61649726#61649726">tagged union</a> like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kr">type</span><span class="w"> </span><span class="nx">Email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">  </span><span class="nx">label</span><span class="o">:</span><span class="s2">&quot;Email&quot;</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">  </span><span class="nx">value</span><span class="o">:</span><span class="kt">string</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>With this in place, we can change our <code>sendEmail</code> function to leverage the new <code>Email</code> type.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">email</span><span class="o">:</span><span class="kt">Email</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="o">:</span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="c1">// logic to send email</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Now, when we get a compilation error when we try passing in a phoneNumber.</p>
<p><img alt="Compilation error that we can't pass a string to an email" src="https://softwarementorblog.blob.core.windows.net/images/til-destructure-error.png" /></p>
<p>One downside to this approach is that if you want to get the value from the <code>Email</code> type, you need to access it's <code>value</code> property. This can be a bit hard to read and keep track of.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">email</span><span class="o">:</span><span class="kt">Email</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="o">:</span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">email</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">  </span><span class="c1">// logic to send email</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="leveraging-object-destructuring-in-functions"><a class="toclink" href="../../2024/05/10/today-i-learned-destructure-objects-in-function-signatures/#leveraging-object-destructuring-in-functions">Leveraging Object Destructuring in Functions</a></h3>
<p>One technique to avoid this is to use destructuring to get the individual properties. This allows us to "throw away" some properties and hold onto the ones we care about. For example, let's say that we wanted only the <code>phoneNumber</code> from a <code>Customer</code>. We could get that with an assignment like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span>
<span class="normal"><a href="#__codelineno-4-7">7</a></span>
<span class="normal"><a href="#__codelineno-4-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">customer</span><span class="o">:</span><span class="w"> </span><span class="kt">Customer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Cameron&quot;</span><span class="p">,</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">  </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Presley&quot;</span><span class="p">,</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">  </span><span class="nx">phoneNumber</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;555-5555&quot;</span><span class="p">,</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">label</span><span class="o">:</span><span class="s2">&quot;Email&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;Cameron@domain.com&quot;</span><span class="p">}</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="p">}</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">phoneNumber</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">customer</span><span class="p">;</span><span class="w"> </span><span class="c1">// phoneNumber will be &quot;555-555&quot;</span>
</code></pre></div></td></tr></table></div>
<p>This works fine for assignments, but it'd be nice to have this at a function level. Thankfully, we can do that like so:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1">// value is the property from Email, we don&#39;t have the label to deal with</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">sendEmail</span><span class="p">({</span><span class="nx">value</span><span class="p">}</span><span class="o">:</span><span class="nx">Email</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="o">:</span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="p">;</span><span class="w"> </span><span class="c1">// note that we don&#39;t have to do .value here</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">  </span><span class="c1">// logic to send email</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>If you find yourself using domain types like this, then this is a handy tool to have in your toolbox.</p>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-05-06 00:00:00+00:00">May 6, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/today-i-learned/" class="md-meta__link">Today I Learned</a>, 
              <a href="../../category/tooling/" class="md-meta__link">Tooling</a></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="today-i-learned-effective-pairing-with-mobsh"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/">Today I Learned - Effective Pairing with Mob.sh</a></h2>
<p>As someone who enjoys leveraging technology and teaching, I'm always interested in ways to simplify the teaching process.</p>
<p>For example, when I'm teaching someone a new skill, I follow the "show one, do one, lead one" approach and my tool of choice for the longest time was <a href="https://visualstudio.microsoft.com/services/live-share/">LiveShare</a> by Microsoft.</p>
<h3 id="using-vs-liveshare"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#using-vs-liveshare">Using VS LiveShare</a></h3>
<p>I think this extension is pretty slick as it allows you to have multiple collaborators, the latency is quite low, and it's built into both Visual Studio Code (VS Code) and Visual Studio.</p>
<h3 id="drawbacks-to-liveshare"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#drawbacks-to-liveshare">Drawbacks to LiveShare</a></h3>
<h4 id="editor-lock-in"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#editor-lock-in">Editor Lock-In</a></h4>
<p>First, participants have to be using Visual Studio or VS Code. Since there's support for VS Code, this isn't quite a blocker as it could be. However, let's say that I'm wanting to work with a team on a Java application. They're more likely to be using IntelliJ or Eclipse as their editor and I don't want someone to have to change their editor just to collaborate.</p>
<h4 id="security-concerns"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#security-concerns">Security Concerns</a></h4>
<p>Second, there are some security considerations to be aware of.</p>
<p>Given the nature of LiveShare, collaborators either connect to your machine (peer-to-peer) or they go through a relay in Azure. Companies that are sensitive to where traffic is routed to won't allow the Azure relay option and given the issues with the URL creation (see next section), the peer-to-peer connection isn't much better.</p>
<p>To start a session, LiveShare generates a URL that the owner would share with their collaborators. As of today, there's no way to limit <em>who</em> can access that link. The owner has some moderator tools to block people, but there's not a way to stop anyone from joining who doesn't have the right kind of email address for example.</p>
<h3 id="introducing-mobsh"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#introducing-mobsh">Introducing Mob.sh</a></h3>
<p>While pairing with a <a href="https://www.linkedin.com/in/jefflangr/">colleague</a>, he introduced me to an alternative tool, <a href="https://mob.sh/">mob.sh</a></p>
<p>At first, I was a bit skeptical of this tooling as I enjoyed the ease of use that I got with LiveShare. However, after a few sessions, I find that this tool solves the problems that I was using LiveShare for just as good, if not better.</p>
<h4 id="how-it-works"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#how-it-works">How It Works</a></h4>
<p>At a high level, <em>mob.sh</em> is a command line tool that is a wrapper around basic <code>git</code> commands.</p>
<p>Because of this design choice, it doesn't matter what editor that a participant has, as long as the code under question is under <code>git</code> source control, the tooling works.</p>
<p>Let's explore how a pair, Adam and Brittany, would use this tool for work.</p>
<h4 id="adam-and-brittany-start-pairing"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#adam-and-brittany-start-pairing">Adam and Brittany Start Pairing</a></h4>
<p>Adam is looking to solve a logic issue in an AWS lambda could use Brittany's guidance since he's new to that domain.</p>
<p>Adam creates a new feature branch, <code>fixing-logic-issue</code> and starts a new mobbing session.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>git<span class="w"> </span>switch<span class="w"> </span>-c<span class="w"> </span>fixing-logic-issue
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>mob<span class="w"> </span>start<span class="w"> </span>--create
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="c1"># --create is needed because fixing-logic issue is not on the server yet</span>
</code></pre></div></td></tr></table></div>
<p>Under the hood, <code>mob.sh</code> has created a new branch off of <code>fixing-logic-issue</code> called <code>mob/fixing-logic-issue</code>. While Adam is making changes, they're going to occur on the <code>mob/fixing-logic-issue</code>.</p>
<p>Because the pair is working remotely, Adam shares his screen so that they're on the same page.</p>
<p>While on this branch, Adam writes a failing unit test that exposes the logic issue that he's running into. From here he signals that Brittany is up by running <code>mob next</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>mob<span class="w"> </span>next
</code></pre></div></td></tr></table></div>
<p>By running this command, <code>mob.sh</code> adds and commits all the changes made on this branch and pushes them up to the server. Once this command completes, it's Brittany's turn to lead.</p>
<p>Once Brittany see's the <code>mob next</code> command complete, she checks out the <code>fixing-logic-issue</code> branch and picks up the next portion of the work by running <code>mob start</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>git<span class="w"> </span>pull<span class="w"> </span><span class="c1"># To get fixing-logic-issue branch</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>git<span class="w"> </span>switch<span class="w"> </span>fixing-logic-issue
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>mob<span class="w"> </span>start
</code></pre></div></td></tr></table></div>
<p>Because she was on the <code>fixing-logic-issue</code> branch, <code>mob.sh</code> was able to see that there was a <code>mob/fixing-logic-issue</code> branch already, so that branch is checked out.</p>
<p>Based on the test, Brittany shows Adam where the failure is occurring and they write up a fix that passes the failing test.</p>
<p>Though there are more changes to be done, Brittany has a meeting to attend, so she ends the session by running <code>mob done</code>, committing, and then pushing the changes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>mob<span class="w"> </span><span class="k">done</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Fixed first logic bug&quot;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>git<span class="w"> </span>push
</code></pre></div></td></tr></table></div>
<p>By running <code>mob done</code> command, all the changes that were on the <code>mob/fixing-logic-issue</code> are applied to the <code>fixing-logic-issue</code> branch. From here, Brittany can commit the changes and push them back to the server.</p>
<h3 id="wrapping-up"><a class="toclink" href="../../2024/05/06/today-i-learned---effective-pairing-with-mobsh/#wrapping-up">Wrapping Up</a></h3>
<p>If you're looking to expand your pairing/mobbing toolkit, I recommend giving <code>mob.sh</code> a try. Not only is the initial investment small, but I find the tooling natural to pick up after a few tries and since it's a wrapper around Git, it reduces the amount of learning needed before getting started.</p>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-04-30 00:00:00+00:00">Apr 30, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/process/" class="md-meta__link">Process</a>, 
              <a href="../../category/leadership/" class="md-meta__link">Leadership</a></li>
        
        
          
          <li class="md-meta__item">
            
              7 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="running-effective-experiments-with-the-team"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/">Running Effective Experiments With the Team</a></h2>
<p>As a leader, you're always on the look out for new tools and approaches to help the team be more effective.</p>
<p>But what happens when you have an idea? How do you introduce it to the team and get buy-in? How do you encourage others to propose ideas as well (remember, you're job isn't to have all the ideas, but to encourage and choose the best ones).</p>
<p>Let's say that the idea works, what happens next? What if it failed, what do you do next? How do you share your lessons with others?</p>
<p>In this post, I'll walk you through my approach for running experiments with the team and how to answer these questions. Like any other advice, I've found success using this process, but you might find that you'll need to tweak or adjust for your team.</p>
<h3 id="working-in-the-open"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#working-in-the-open">Working In the Open</a></h3>
<p>When it comes to the team, I'm a big proponent of working in the open. Not only does this reduce the amount of questions from my leader about what we're doing, it also empowers others to chime in when they see something off or the team going down the wrong path.</p>
<p>With this philosophy in mind, I document our experiments in the team wiki. Now, I know that we should <a href="http://agilemanifesto.org/">favor people over processes</a>, however, I have found immense value in taking the 10 minutes to document as this helps get everyone on the same page and when we look at these experiments later, we have the context behind the experiment.</p>
<p>To me, this no different than a scientist writing down their experiments for later reference.</p>
<h3 id="defining-an-experiment"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#defining-an-experiment">Defining an Experiment</a></h3>
<p>As you might have guessed, I'm a big fan of using the <a href="https://en.wikipedia.org/wiki/Scientific_method">scientific method</a> for engineering work and especially so when it comes to experiments. As such, I capture the following info:</p>
<figure>
<img src="https://images.unsplash.com/photo-1532187863486-abf9dbad1b69?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Purple liquid being injected into one of many test tubes" style="width:500px">
<figcaption>
Seriously, if we're not taking notes, what kind of scientists are we?
</figcaption>
<figcaption>
Photo by <a href="https://unsplash.com/@_louisreed?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Louis Reed</a> on <a href="https://unsplash.com/photos/refill-of-liquid-on-tubes-pwcKF7L4-no?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
  </figcaption>
</figure>

<ul>
<li>Context - Why are we doing this? What inspired the experiment or what problem are we trying to solve?</li>
<li>Hypothesis - What change are we proposing and what outcome are we looking for?</li>
<li>Implementation - How are we going to run this experiment?</li>
<li>Duration - How long are we going to run this experiment for?</li>
<li>(Optional) Immediate Failure Criteria - Is there anything that could happen during this experiment that would cause to immediately stop?</li>
</ul>
<p><em>For those looking for a template, you can find a markdown version <a href="https://github.com/cameronpresley/leadership-toolkit">in my Leadership Toolkit on GitHub</a></em></p>
<h3 id="scheduling-the-retrospective"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#scheduling-the-retrospective">Scheduling the Retrospective</a></h3>
<p>With the experiment documented, I send a meeting request the day after the experiment is scheduled to end. The goal of this meeting is to reflect on the experiment and to decide whether we should adopt the changes or to stop.</p>
<h3 id="leading-the-team"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#leading-the-team">Leading the Team</a></h3>
<p>After sending this meeting, my job is to help the team implement the experiment and coach/encourage as needed. Since it's a process change, it might take a bit for the team to adjust, so showing some patience and understanding is critical here.</p>
<p>While we are going the through the experiment, I'm going to note any changes that I'm noticing. For example, if we're running an experiment to have asynchronous stand-ups, I'm going to take notes on how I'm feeling about the team getting updates and how they're communicating with each other.</p>
<p>Depending on what comes up in our <a href="../../2023/05/14/building-relationships-through-one-on-ones/#bonus-seeding-a-conversation">one-on-ones</a>, I might even use this as a starter question.</p>
<h3 id="retrospective"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#retrospective">Retrospective</a></h3>
<p>Once the experiment has ran its course, it's time to reflect on the experiment and decide as a team on whether to adopt the changes or reject them.</p>
<p>To prepare, I'd recommend <a href="../../2024/03/11/five-tips-to-have-more-effective-meetings/#step-3-do-you-have-the-right-people">getting the right people in the room</a> and <a href="../../2024/03/11/five-tips-to-have-more-effective-meetings/#step-2-how-do-we-even-know-if-were-successful">setting the context</a>.</p>
<p>During the retro, the team should be doing the majority of the talking. Your role is to seed the conversation and make sure everyone gets their opinions out. I like to capture these notes on a board so that the team has clear visibility on what worked and didn't work.</p>
<p>Once the notes have been added to the board, it's time for the team to decide to adopt the changes or not. During this step, I remind the team that this process isn't set in stone and if we want to tweak it in a future experiment, that's normal and encouraged.</p>
<p>At this point, I update the experiment write-up that <a href="../../2024/04/30/running-effective-experiments-with-the-team/#defining-an-experiment">we did earlier</a> with the team decision and the logic behind the decision. This provides an easy way of sharing our lessons with others.</p>
<h3 id="sharing-outcomes-with-others"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#sharing-outcomes-with-others">Sharing Outcomes With Others</a></h3>
<p>One cool thing about leading teams is that no two teams are the same. Between the personalities, skills, company culture, and motivations, what works for one team won't work for another team (and the other way around).</p>
<p>Because of this, it's critical to share your results with your leader and your peers. This way, they could see what we did, what worked, what didn't work, and hopefully get inspired to run their own experiments with teams.</p>
<p>If the team paid a learning tax for an experiment, why wouldn't we share those results with others so that they can learn from our experiences? They might be able to make suggestions to turn a failure into a success or to ask questions about how we dealt with an issue.</p>
<p>The group being successful is your success, do don't hoard knowledge, share it with others!</p>
<p>With the write-up completed, you can start simply by sending a link to the group. A better approach would be to have a standing agenda item for your team lead meeting where leaders can talk about experiments that have been ran recently and their outcomes.</p>
<h3 id="common-mistakes"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#common-mistakes">Common Mistakes</a></h3>
<p>When I've worked with leaders to introduce experiments, it can be a lot to take in because this is a different way of thinking. This is especially true if leaders are not in a psychologically safe environment or if they have prior experiences that weren't successful.</p>
<p>I can't guarantee that you'll run experiments flawlessly, however, if you avoid these common mistakes, your odds of success will be higher.</p>
<h4 id="not-time-boxing-the-experiment"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#not-time-boxing-the-experiment">Not Time Boxing the Experiment</a></h4>
<p>One of the key features of the experiment is that it's only going to run for a set period of time, so that if you find that it's not working, you've not permanently impacted the team.</p>
<p>If you have an experiment that's going to run into perpetuity, that's not an experiment anymore, that's a process change and that shouldn't go through this workflow because experiments can be abandoned, but process changes typically can't.</p>
<h4 id="treating-experiments-as-foregone-conclusions"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#treating-experiments-as-foregone-conclusions">Treating Experiments as Foregone Conclusions</a></h4>
<p>At some point, you're going to get a directive from your leader that you don't agree with, but you need to commit to the idea anyway. You know the idea isn't going to go over with the team, so you think framing it as an experiment can soften the blow.</p>
<p>DON'T DO THIS!</p>
<figure>
<p><img alt="Jimmy Fallon saying It's Totally Not Worth It" src="https://softwarementorblog.blob.core.windows.net/images/dont-do-it.png" width="500px" /></p>
<figcaption>
Really, don't do this!
</figcaption>
</figure>
<p>Experiments are just that, experiments. They are not a vehicle for you to make unpopular changes. If you use experiments for slipping in these types of changes, then the team will learn that experiments is code for "not great idea" and they'll stop using the process.</p>
<p>Remember, experiments are ideas that you and the team come up with to make things better, not directives from the top coming down.</p>
<p>Now, you <em>could</em> use an experiment to figure out a way to carry out the directive. A good leader tells you where we have to go, but not necessarily how to get there. The experiment could be to figure out how to get there, but not what the destination should be.</p>
<h4 id="running-multiple-experiments"><a class="toclink" href="../../2024/04/30/running-effective-experiments-with-the-team/#running-multiple-experiments">Running Multiple Experiments</a></h4>
<p>When getting a new team or after identifying multiple areas that a team could improve in, it's going to be tempting to want to implement multiple changes at once.</p>
<p>Resist the urge.</p>
<p>Remember, an experiment, by definition, is a process change. So the more experiments you run, the more process changes happening, which in turn puts more stress on the team to remember all the changes.</p>
<p>In addition to all the process changes, you might find that one experiment futzes with another experiment and you may not get clear results.</p>
<p>Let's say that we had two experiments going on at the same, asynchronous stand-ups and spending Tuesday afternoons in independent learning. During your one-on-ones, you get some feedback that it's a bit odd to not know what other team members are working on.</p>
<p>What's driving that? Is it the async stand-ups? Or is it the dedicated learning time? Could it be both? You can't be sure.</p>
<p>Another way to think about this is to think about debugging a program. If something's not working, do you change 5 things at once? No, you're going to change one thing, re-run, and see what happens.</p>
<p>Same thing for experiments.</p>
<blockquote>
But Cameron! This team is a hot mess and could stand to improve in so many areas, what should I do then?
</blockquote>

<p>Instead of running all the experiments, instead, the team should decide which experiment would have the biggest payoff and then pursue that one. Remember, you're not playing the short game, but you're in for the long haul, so you'll have the time to make those changes.</p>
    
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <a class="md-pagination__link" href="../2/">2</a> <span class="md-pagination__current">3</span> <a class="md-pagination__link" href="../4/">4</a> <a class="md-pagination__link" href="../5/">5</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../9/">9</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../.." class="md-footer__link md-footer__link--prev" aria-label="Previous: About Me">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                About Me
              </div>
            </div>
          </a>
        
        
          
          <a href="../../category/net/" class="md-footer__link md-footer__link--next" aria-label="Next: .NET">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                .NET
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.footer", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.ad38c271.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b66b2b78.min.js"></script>
      
    
  </body>
</html>