
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Cameron Presley">
      
      
      
        <link rel="prev" href="../aws/">
      
      
        <link rel="next" href="../c/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16+insiders-4.53.16">
    
    
      
        <title>Basics - The Software Mentor</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.1caf78d2.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/page.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-ZE0MGVG7RJ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-ZE0MGVG7RJ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-ZE0MGVG7RJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#basics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The Software Mentor" class="md-header__button md-logo" aria-label="The Software Mentor" data-md-component="logo">
      
  <img src="../../../assets/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Software Mentor
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basics
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  About Me

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Articles

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../courses/" class="md-tabs__link">
        
  
  
    
  
  Training Course

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../level-up/" class="md-tabs__link">
        
  
  
    
  
  Level Up Resources

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../presentations/" class="md-tabs__link">
        
  
  
    
  
  Presentations

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../speaking-schedule/" class="md-tabs__link">
        
  
  
    
  
  Speaking Schedule

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../story/" class="md-tabs__link">
        
  
  
    
  
  Story

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../resume/" class="md-tabs__link">
        
  
  
    
  
  Resume

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The Software Mentor" class="md-nav__button md-logo" aria-label="The Software Mentor" data-md-component="logo">
      
  <img src="../../../assets/images/favicon.png" alt="logo">

    </a>
    The Software Mentor
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Me
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Articles
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Articles
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Archive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2025
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2024
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2023
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2020
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2018
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2015
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2014/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2014
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2013/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2013
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Categories
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Categories
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../net/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    .NET
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AWS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
      
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Basics
  

    
  </span>
  
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../c/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C#
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../career/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Career
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../coaching-corner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coaching Corner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../functional-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Functional Programming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../interviewing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interviewing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../leadership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leadership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../learning-through-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learning Through Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../solid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SOLID
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../today-i-learned/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Today I Learned
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../tooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tooling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../typescript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeScript
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../courses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Training Course
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../level-up/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Level Up Resources
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../presentations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Presentations
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../speaking-schedule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Speaking Schedule
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Story
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resume
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="basics">Basics</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2014-01-07 00:00:00+00:00">Jan 7, 2014</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a>, 
              <a href="../solid/" class="md-meta__link">SOLID</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="beginner-basics-establishing-a-solid-foundation-the-dependency-inversion-principle"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">Beginner Basics: Establishing a SOLID Foundation – The Dependency Inversion Principle</a></h2>
<p>Welcome to the final installment of Establishing a SOLID Foundation series. In this post, we’ll be exploring the fifth part of SOLID, the Dependency Inversion Principle.</p>
<h3 id="what-is-the-dependency-inversion-principle"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/#what-is-the-dependency-inversion-principle">What is the Dependency Inversion Principle?</a></h3>
<p>When working with object-oriented languages, we take large problems and break them down into smaller pieces. These smaller pieces in turn are broken down into even smaller, more manageable pieces to work on. As part of the breaking down process, we inherently have to introduce dependencies between the larger pieces and the smaller pieces.</p>
<p>How we weave these dependencies together is the difference between easily changing behavior and spending the next week pulling your hair out.</p>
<p>When working with classes, dependencies are usually introduced by constructing them in the class that they’re used in. For example, let’s say that we’ve been asked to write an utility that emulates an calculator but it also keeps a transaction log for record keeping purposes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span>
<span class="normal"><a href="#__codelineno-7-30">30</a></span>
<span class="normal"><a href="#__codelineno-7-31">31</a></span>
<span class="normal"><a href="#__codelineno-7-32">32</a></span>
<span class="normal"><a href="#__codelineno-7-33">33</a></span>
<span class="normal"><a href="#__codelineno-7-34">34</a></span>
<span class="normal"><a href="#__codelineno-7-35">35</a></span>
<span class="normal"><a href="#__codelineno-7-36">36</a></span>
<span class="normal"><a href="#__codelineno-7-37">37</a></span>
<span class="normal"><a href="#__codelineno-7-38">38</a></span>
<span class="normal"><a href="#__codelineno-7-39">39</a></span>
<span class="normal"><a href="#__codelineno-7-40">40</a></span>
<span class="normal"><a href="#__codelineno-7-41">41</a></span>
<span class="normal"><a href="#__codelineno-7-42">42</a></span>
<span class="normal"><a href="#__codelineno-7-43">43</a></span>
<span class="normal"><a href="#__codelineno-7-44">44</a></span>
<span class="normal"><a href="#__codelineno-7-45">45</a></span>
<span class="normal"><a href="#__codelineno-7-46">46</a></span>
<span class="normal"><a href="#__codelineno-7-47">47</a></span>
<span class="normal"><a href="#__codelineno-7-48">48</a></span>
<span class="normal"><a href="#__codelineno-7-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Logger</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">temp</span><span class="se">\\</span><span class="s2">results.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">|</span><span class="n">f</span><span class="o">|</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)}</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="k">end</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="k">class</span><span class="w"> </span><span class="nc">Calculator</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">      </span><span class="vi">@logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Logger</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">      </span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">sub</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">      </span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">mult</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">      </span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
<a id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-23" name="__codelineno-7-23"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">div</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-24" name="__codelineno-7-24"></a><span class="w">      </span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="n">to_f</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">sym</span><span class="p">)</span>
<a id="__codelineno-7-29" name="__codelineno-7-29"></a><span class="w">      </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sym</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; = &quot;</span>
<a id="__codelineno-7-30" name="__codelineno-7-30"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="n">sym</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;+&quot;</span>
<a id="__codelineno-7-31" name="__codelineno-7-31"></a><span class="w">            </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">to_s</span>
<a id="__codelineno-7-32" name="__codelineno-7-32"></a><span class="w">      </span><span class="k">elsif</span><span class="w"> </span><span class="n">sym</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;-&quot;</span>
<a id="__codelineno-7-33" name="__codelineno-7-33"></a><span class="w">            </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">to_s</span>
<a id="__codelineno-7-34" name="__codelineno-7-34"></a><span class="w">      </span><span class="k">elsif</span><span class="w"> </span><span class="n">sym</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
<a id="__codelineno-7-35" name="__codelineno-7-35"></a><span class="w">            </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">to_s</span>
<a id="__codelineno-7-36" name="__codelineno-7-36"></a><span class="w">      </span><span class="k">else</span>
<a id="__codelineno-7-37" name="__codelineno-7-37"></a><span class="w">            </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">to_f</span><span class="o">/</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">to_s</span>
<a id="__codelineno-7-38" name="__codelineno-7-38"></a><span class="w">      </span><span class="k">end</span>
<a id="__codelineno-7-39" name="__codelineno-7-39"></a><span class="w">      </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
<a id="__codelineno-7-40" name="__codelineno-7-40"></a><span class="w">      </span><span class="vi">@logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<a id="__codelineno-7-41" name="__codelineno-7-41"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-7-42" name="__codelineno-7-42"></a><span class="k">end</span>
<a id="__codelineno-7-43" name="__codelineno-7-43"></a>
<a id="__codelineno-7-44" name="__codelineno-7-44"></a><span class="c1"># Usage</span>
<a id="__codelineno-7-45" name="__codelineno-7-45"></a><span class="n">calc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Calculator</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-7-46" name="__codelineno-7-46"></a><span class="nb">puts</span><span class="w"> </span><span class="n">calc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-7-47" name="__codelineno-7-47"></a><span class="nb">puts</span><span class="w"> </span><span class="n">calc</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-7-48" name="__codelineno-7-48"></a><span class="nb">puts</span><span class="w"> </span><span class="n">calc</span><span class="o">.</span><span class="n">mult</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-7-49" name="__codelineno-7-49"></a><span class="nb">puts</span><span class="w"> </span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>So far so good, we have two classes (Logger and Calculator) that is responsible for logging and the calculations. Even though this is a small amount of code (~50 lines for both classes), there are three dependencies in the code. The first dependency that I notice is that Calculator depends on Logger. We can see this by looking at the initialize method for Calculator (as hinted above):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Calculator</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="vi">@logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Logger</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">temp</span><span class="se">\\</span><span class="s2">results.txt&quot;</span><span class="p">)</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>The second dependency is a bit trickier to find, but in the Logger class’ log method, we use a hard coded file path.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Logger</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">      </span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">temp</span><span class="se">\\</span><span class="s2">results.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">|</span><span class="n">f</span><span class="o">|</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)}</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>The third dependency is probably the hardest to find, but in the the Logger class’ log method, we are also depending on the file system for the machine by using Ruby’s File class. <em>But wait a minute</em>, I hear you say, <em>why is the File class considered a dependency, that’s a part of the Ruby language?</em> I agree with you, but it’s still a dependency in the code and something that we should keep in mind.</p>
<p>From these three dependencies, we’re going to focus on resolving the first two. We could make resolve the dependency on the file system, but it would take so much effort for so little gain.</p>
<h3 id="why-dont-we-resolve-the-file-dependency-issue"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/#why-dont-we-resolve-the-file-dependency-issue">Why don’t we resolve the file dependency issue?</a></h3>
<p>One thing that I keep in mind when identifying which dependencies to invert is to focus on inverting dependencies outside of the framework. In this case, we’re going to ignore the file system dependency because I, the programmer, depend on Ruby to behave correctly. If Ruby stops working, then a broken file system is the least of my worries. Therefore, it’s not worth the effort to resolve.</p>
<h4 id="making-the-calculator-and-logger-more-flexible"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/#making-the-calculator-and-logger-more-flexible">Making the Calculator and Logger more flexible</a></h4>
<p>In order to resolve these DIP violations, we need to expose ways to drop in these dependencies. There are two ways of doing this. We can either:</p>
<ul>
<li>Expose the dependency via the constructor</li>
<li>Expose the dependency via a public property</li>
</ul>
<p>Using the Calculator example, we can expose the logger dependency via the constructor and we can expose the filePath dependency by exposing it as a property.</p>
<p>For the Calculator class, I’m going to first change the initialize method so that it takes a logger instead of constructing it’s own.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Calculator</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="vi">@logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">logger</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Next, I will construct the logger in the usage and pass the logger as part of the constructor.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1"># Usage</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Logger</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">calc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Calculator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>A quick run of our program tells us that everything is still working correctly.</p>
<p>Now that we’ve finished up exposing the logger dependency, it’s time to expose the file path. First, I’m going to add a public property on the Logger class call filePath and use that property in the log method</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span>
<span class="normal"><a href="#__codelineno-12-5">5</a></span>
<span class="normal"><a href="#__codelineno-12-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Logger</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">      </span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">|</span><span class="n">f</span><span class="o">|</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)}</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">  </span><span class="kp">attr_accessor</span><span class="w"> </span><span class="ss">:filePath</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Now that we’ve introduced a seam for the file path dependency, we use that seam in the program and assign the property```ruby</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="c1"># Usage</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Logger</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="n">logger</span><span class="o">.</span><span class="n">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">temp</span><span class="se">\\</span><span class="s2">results.txt&quot;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="n">calc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Calculator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="multiple-ways-of-solving-the-issue-which-one-is-best"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/#multiple-ways-of-solving-the-issue-which-one-is-best">Multiple ways of solving the issue, which one is best?</a></h3>
<p>When using the constructor method, it’s very clear to see what dependencies the class has, just look at the constructor. However, adding a new dependency to the constructor may cause other code to fail because the signature of the constructor has changed. This in turn can lead to cascading changes where multiple places of code need to be updated to pass in the dependency.</p>
<p>On the other hand, using the property method, the change is less invasive because the property can be set independently of the when the object was constructed. However, it’s harder to see the dependencies for the class because now the properties are containing the dependencies. Also, it’s very easy to forget to set a property before using the object.</p>
<p>Both of these methods are valid, but when I’m working with DIP, I prefer to expose the dependencies via the constructor because if my class starts to gain more and more dependencies, then it’s a sign that my class is doing too much and violating the Single Responsibility Principle (SRP). You can say that DIP is the canary in the coal mine for SRP.</p>
<h3 id="tldr"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/#tldr">TL;DR</a></h3>
<p>In summary, the Dependency Inversion Principle (DIP) tells us that we should we should have the outside world pass in our dependencies. If we don’t follow this rule, then we will not. In order to resolve violations, we need to determine what dependencies we have and modify our constructor to accept those dependencies. If our constructor becomes too large, then our class might be violating the Single Responsibility Principle. By following the DIP, we expose the dependencies our classes require and allows for greater decoupling. As always, don’t forget to refactor as you go along.</p>
<h3 id="establishing-a-solid-foundation-series"><a class="toclink" href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/#establishing-a-solid-foundation-series">Establishing a SOLID Foundation Series</a></h3>
<ul>
<li><a href="../../2013/11/04/establish-solid-intro/">Introduction</a></li>
<li><a href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">The Single Responsibility Principle (SRP)</a></li>
<li><a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">The Open/Closed Principle (OCP)</a></li>
<li><a href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">The Liskov Substitution Principle (LSP)</a></li>
<li><a href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">The Interface Segregation Principle (ISP)</a></li>
<li><a href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">The Dependency Inversion Principle (DIP)</a></li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-12-12 00:00:00+00:00">Dec 12, 2013</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a>, 
              <a href="../solid/" class="md-meta__link">SOLID</a></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="beginner-basics-establishing-a-solid-foundation-the-interface-segregation-principle"><a class="toclink" href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">Beginner Basics: Establishing a SOLID Foundation – The Interface Segregation Principle</a></h2>
<p>Welcome to the fourth installment of Establishing a SOLID Foundation series. In this post, we’ll be exploring the fourth part of SOLID, the Interface Segregation Principle and how by following this principle, you will write more robust code.</p>
<h3 id="what-is-the-interface-segregation-principle"><a class="toclink" href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/#what-is-the-interface-segregation-principle">What is the Interface Segregation Principle?</a></h3>
<p>The Interface Segregation Principle (ISP) tell us that clients should not be forced to use an interface that defines methods that it does not use. But what does this mean? Let’s say that we have the following ContactManager class and a ContactFinder class.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span>
<span class="normal"><a href="#__codelineno-5-42">42</a></span>
<span class="normal"><a href="#__codelineno-5-43">43</a></span>
<span class="normal"><a href="#__codelineno-5-44">44</a></span>
<span class="normal"><a href="#__codelineno-5-45">45</a></span>
<span class="normal"><a href="#__codelineno-5-46">46</a></span>
<span class="normal"><a href="#__codelineno-5-47">47</a></span>
<span class="normal"><a href="#__codelineno-5-48">48</a></span>
<span class="normal"><a href="#__codelineno-5-49">49</a></span>
<span class="normal"><a href="#__codelineno-5-50">50</a></span>
<span class="normal"><a href="#__codelineno-5-51">51</a></span>
<span class="normal"><a href="#__codelineno-5-52">52</a></span>
<span class="normal"><a href="#__codelineno-5-53">53</a></span>
<span class="normal"><a href="#__codelineno-5-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ContactManager</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">     </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="w"> </span><span class="n">_names</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="nf">ContactManager</span><span class="p">()</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">          </span><span class="n">_names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">List</span><span class="p">();</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">          </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;Cameron&quot;</span><span class="p">);</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">          </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;Geoff&quot;</span><span class="p">);</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">          </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;Phillip&quot;</span><span class="p">);</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">PrintNames</span><span class="p">()</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">          </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_names</span><span class="p">)</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">              </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">SetNames</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">          </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">               </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">DoesNameExist</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">         </span><span class="kt">var</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_names</span><span class="p">.</span><span class="n">IndexOf</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">         </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">results</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="p">}</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ContactFinder</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="p">{</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">     </span><span class="k">private</span><span class="w"> </span><span class="n">ContactManager</span><span class="w"> </span><span class="n">_manager</span><span class="p">;</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="nf">ContactFinder</span><span class="p">(</span><span class="n">ContactManager</span><span class="w"> </span><span class="n">manager</span><span class="p">)</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="w">         </span><span class="n">_manager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">manager</span><span class="p">;</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">FindContacts</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">          </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="w">          </span><span class="p">{</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="w">               </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_manager</span><span class="p">.</span><span class="n">DoesNameExist</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="w">                    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Found &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="w">               </span><span class="k">else</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="w">                    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Couldn&#39;t find &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-5-53" name="__codelineno-5-53"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>So far, so good, the ContactManager is responsible for holding onto the list of names and some basic methods and the ContactFinder is responsible for determining which contacts are in our list.</p>
<p>However, there is a problem with this example code. We have this ContactManager class that has a lot methods defined, but the only method that’s required is the DoesNameExist method.</p>
<p>Another concept ISP tells in a roundabout fashion is that objects should depend on interfaces, not concrete classes. This allows us to switch out dependencies much easier when we code to the interface.</p>
<h3 id="whats-the-big-deal-i-dont-see-what-the-issue-is"><a class="toclink" href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/#whats-the-big-deal-i-dont-see-what-the-issue-is">What’s the big deal, I don’t see what the issue is</a></h3>
<p>The big issue that comes up is that it’s hard to figure out what methods that the ContactFinder actually needs. We say that it needs a ContactManager which would lead us to assume that it needs all of those methods. However, that’s not the case. So by violating ISP, it’s easy to make the wrong design decision.</p>
<p>Another issue arises when it comes to creating the interface for the dependency. If we assume that all methods for the ContactManager is required, then any class that implements that interface has to also implement those unneeded methods. How many times have you seen an object implement an interface with a lot of methods that did nothing or just threw exceptions?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span>
<span class="normal"><a href="#__codelineno-6-28">28</a></span>
<span class="normal"><a href="#__codelineno-6-29">29</a></span>
<span class="normal"><a href="#__codelineno-6-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">BloatedInterface</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="p">{</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">     </span><span class="k">void</span><span class="w"> </span><span class="nf">SetContent</span><span class="p">();</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">     </span><span class="kt">bool</span><span class="w"> </span><span class="nf">IsContentSet</span><span class="p">();</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">     </span><span class="k">void</span><span class="w"> </span><span class="nf">RemoveContent</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="p">);</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">     </span><span class="k">void</span><span class="w"> </span><span class="nf">AddContent</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="p">);</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">     </span><span class="k">void</span><span class="w"> </span><span class="nf">ImportantMethod</span><span class="p">();</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="p">}</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">BloatedObject</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">BloatedInterface</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="p">{</span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">SetContent</span><span class="p">()</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">IsContentSet</span><span class="p">()</span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">          </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">NotImplementedException</span><span class="p">();</span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">RemoveContent</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">          </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">NotImplementedException</span><span class="p">();</span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">AddContent</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">          </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">NotImplementedException</span><span class="p">();</span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">ImportantMethod</span><span class="p">()</span>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="fixing-the-issue"><a class="toclink" href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/#fixing-the-issue">Fixing the issue</a></h3>
<p><em>Alright, alright</em>, I hear you say, <em>you’ve convinced me, how do I fix this problem?</em> The steps are simple:</p>
<ol>
<li>First, you need to identify which methods the client needs</li>
<li>Next, you need to create an interface that contains the methods that the client uses</li>
<li>After creating the interface, have the dependency implement the interface</li>
<li>Finally, change the signature client so that it uses the interface instead of the concrete class</li>
</ol>
<p>Using our code base, first, we look at the ContactFinder class and see what methods from ContactManager that it uses.</p>
<p>So far, it looks like it only needs the DoesNameExist method. So let’s create an interface, called IContactSearcher that contains the single method.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">IContactSearcher</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">     </span><span class="kt">bool</span><span class="w"> </span><span class="nf">DoesNameExist</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Now that we’ve extracted the interface, it’s time to have the ContactManager class implement the interface:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span>
<span class="normal"><a href="#__codelineno-8-30">30</a></span>
<span class="normal"><a href="#__codelineno-8-31">31</a></span>
<span class="normal"><a href="#__codelineno-8-32">32</a></span>
<span class="normal"><a href="#__codelineno-8-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ContactManager</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IContactSearcher</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="p">{</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">     </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="w"> </span><span class="n">_names</span><span class="p">;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="nf">ContactManager</span><span class="p">()</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">          </span><span class="n">_names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">List</span><span class="p">();</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">          </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;Cameron&quot;</span><span class="p">);</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">          </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;Geoff&quot;</span><span class="p">);</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">          </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;Phillip&quot;</span><span class="p">);</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">PrintNames</span><span class="p">()</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">          </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_names</span><span class="p">)</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">          </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">SetNames</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="w">          </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="w">               </span><span class="n">_names</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">DoesNameExist</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a><span class="w">          </span><span class="kt">var</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_names</span><span class="p">.</span><span class="n">IndexOf</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">results</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="w">               </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<a id="__codelineno-8-30" name="__codelineno-8-30"></a>
<a id="__codelineno-8-31" name="__codelineno-8-31"></a><span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<a id="__codelineno-8-32" name="__codelineno-8-32"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Finally, we update the references in ContactFinder to use the IContactSearcher interface instead of the concrete class ContactManager.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ContactFinder</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">     </span><span class="k">private</span><span class="w"> </span><span class="n">IContactSearcher</span><span class="w"> </span><span class="n">_searcher</span><span class="p">;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="nf">ContactFinder</span><span class="p">(</span><span class="n">IContactSearcher</span><span class="w"> </span><span class="n">searcher</span><span class="p">)</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">         </span><span class="n">_searcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">searcher</span><span class="p">;</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">     </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">FindContacts</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">     </span><span class="p">{</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">          </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">names</span><span class="p">)</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="w">          </span><span class="p">{</span>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="w">               </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_searcher</span><span class="p">.</span><span class="n">DoesNameExist</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="w">                    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Found &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="w">               </span><span class="k">else</span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="w">                    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Couldn&#39;t find &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="w">     </span><span class="p">}</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>With this last step, we’ve now resolved the ISP violation.</p>
<h3 id="tldr"><a class="toclink" href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/#tldr">TL;DR</a></h3>
<p>In summary, the Interface Segregation Principle (ISP) tells us that we should interfaces instead of concrete classes for our dependencies and that we should use the smallest interface for our client to work. If we don’t follow these rules, then it’s easy to create bloated interfaces that clutter up readability. In order to resolve violations, we need to determine what methods our client require and code an interface to contains those methods. Finally, we have our class implement those methods and pass it to the client. By following the ISP, we reduce the complexity required by our code and reduce the coupling between client and dependency. As always, don’t forget to refactor as you go along.</p>
<h3 id="establishing-a-solid-foundation-series"><a class="toclink" href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/#establishing-a-solid-foundation-series">Establishing a SOLID Foundation Series</a></h3>
<ul>
<li><a href="../../2013/11/04/establish-solid-intro/">Introduction</a></li>
<li><a href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">The Single Responsibility Principle (SRP)</a></li>
<li><a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">The Open/Closed Principle (OCP)</a></li>
<li><a href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">The Liskov Substitution Principle (LSP)</a></li>
<li><a href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">The Interface Segregation Principle (ISP)</a></li>
<li><a href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">The Dependency Inversion Principle (DIP)</a></li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-11-29 00:00:00+00:00">Nov 29, 2013</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a>, 
              <a href="../solid/" class="md-meta__link">SOLID</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="beginner-basics-establishing-a-solid-foundation-the-liskov-substitution-principle"><a class="toclink" href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">Beginner Basics: Establishing a SOLID Foundation – The Liskov Substitution Principle</a></h2>
<p>Welcome to the third installment of Establishing a SOLID Foundation series. In this post, we’ll be exploring the third part of SOLID, the Liskov Substitution Principle and how following this principle can lead to loose coupling of your code.</p>
<h3 id="so-what-is-the-liskov-substitution-principle"><a class="toclink" href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/#so-what-is-the-liskov-substitution-principle">So what is the Liskov Substitution Principle?</a></h3>
<p>Before diving into the Liskov Substitution Principle (LSP), let’s look at a code example demonstrating the violation.</p>
<p>Let’s say that we have a Rectangle class:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="c1"># A Rectangle can have height and width</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="c1"># set to any value</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">height=</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">      </span><span class="vi">@height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">width=</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">      </span><span class="vi">@width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">height</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">      </span><span class="vi">@height</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">width</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">      </span><span class="vi">@width</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">area</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">      </span><span class="n">height</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>If we run the following implementation, it’s pretty clear that it works like we would expect:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Rectangle</span><span class="o">.</span><span class="n">new</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="nb">puts</span><span class="w"> </span><span class="n">rect</span><span class="o">.</span><span class="n">area</span><span class="w"> </span><span class="c1"># =&gt; 30</span>
</code></pre></div></td></tr></table></div>
<p>Seems pretty simple, we have a Rectangle class with two public properties, height and width and the class behaves the way we would expect.</p>
<p>Now let’s add a new class, called Square. Since all Squares are also Rectangles, it makes sense that the Square class should inherit from the Rectangle class. However, since Squares have to maintain the same height and width, we need to add some additional logic for that:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="c1"># A Square must maintain the same height and width</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">Square</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">Rectangle</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">height=</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">      </span><span class="vi">@height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">      </span><span class="vi">@width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">width=</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">      </span><span class="vi">@width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">      </span><span class="vi">@height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Using a Square instead of a Rectangle and running the same input, we get the following output:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Square</span><span class="o">.</span><span class="n">new</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">square</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">square</span><span class="o">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="nb">puts</span><span class="w"> </span><span class="n">square</span><span class="o">.</span><span class="n">area</span><span class="w"> </span><span class="c1"># =&gt; 25</span>
</code></pre></div></td></tr></table></div>
<p>Hold up, why is the area 25? If I read this code, then the height should be 10 and the width should be 5, giving an area of 50. This is no longer the case because of the domain constraint caused by the Square class. By using a Square where the code expected a Rectangle, we get different behavior then we would expect. This is the heart of the Liskov Substitution Principle.</p>
<p>In short, the Liskov Substitution Principle states that if we have an object (Rectangle) in our code and it works correctly, then we should be able to use any sub-type (Square) without the results being modified.</p>
<p>The most common example of LSP violations are when the “is-a” phrase from Object-Oriented Design break down. In the Rectangle-Square example, we say that a Square “is-a” Rectangle which is true. However, when we covert that relationship to code and use inheritance, the relationship does not hold up.</p>
<p>I don’t know, this sounds confusing, what’s the point?
To me, the Liskov Substitution Principle is the hardest part of SOLID to understand. It’s <a href="http://en.wikipedia.org/wiki/Liskov_substitution_principle#Principle">heavy on the theoretical</a> and it’s not blatantly obvious when a violation has occurred until testing.</p>
<p>However, there are plenty of benefits of following LSP.</p>
<p>First, following LSP reduces the tight coupling involved in your code. Let’s look back at our Recipes class from the <a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">Open/Closed Principle post</a> and examine the MakeOrder method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Recipes</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">     </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">          </span><span class="vi">@recipes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">          </span><span class="vi">@recipes</span><span class="o">[</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">ChickenWithBroccoli</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">ChickenWithBroccoli</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">          </span><span class="vi">@recipes</span><span class="o">[</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">SteakWithPotatoes</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SteakWithPotatoes</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">          </span><span class="vi">@recipes</span><span class="o">[</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">PorkWithApples</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">PorkWithApples</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">     </span><span class="k">end</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">     </span><span class="k">def</span><span class="w"> </span><span class="nf">MakeOrder</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">          </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">@recipes</span><span class="o">[</span><span class="n">order</span><span class="o">]</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kp">nil</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">               </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Can&#39;t cook &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">          </span><span class="k">else</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">               </span><span class="n">recipe</span><span class="o">.</span><span class="n">Cook</span><span class="p">()</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">          </span><span class="k">end</span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="w">     </span><span class="k">end</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>In this class, you see that we load different recipes and when one’s requested, we call the Cook method. We don’t have to do any set-up, special handling, or other logic, we just trust that the Cook method for whatever recipe we choose works as expected. By following this design, code will be easier to read and to maintain.</p>
<p>Going back to our Square/Rectangle example, if we wanted a method that would return a new Square or Rectangle, it would have to look something like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">CreateShape</span><span class="p">(</span><span class="n">classType</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">)</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">     </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">nil</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="n">classType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Rectangle&quot;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">          </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Rectangle</span><span class="o">.</span><span class="n">new</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">          </span><span class="n">shape</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">          </span><span class="n">shape</span><span class="o">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">     </span><span class="k">else</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">          </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Square</span><span class="o">.</span><span class="n">new</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">          </span><span class="n">shape</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="w">     </span><span class="k">end</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">shape</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>This code works, but there is one major problem. When someone is looking at this code, they’re going to get confused of why the Rectangle and Square are setup differently.</p>
<p>For example, when I see that the Square’s height is being set, but not the width, my first thought is that this is a bug. Then, I’d have to look into the Square’s class definition and then I’d see the logic of where setting the height also sets the width.</p>
<p>Long story short, by identifying and resolving LSP violations, we can make the code easier to read and maintain.</p>
<h3 id="so-it-looks-like-lsp-is-pretty-useful-but-how-do-i-fix-violations"><a class="toclink" href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/#so-it-looks-like-lsp-is-pretty-useful-but-how-do-i-fix-violations">So it looks like LSP is pretty useful, but how do I fix violations?</a></h3>
<p>Now that we’ve talked about spotting LSP violations and why it’s important to follow LSP, let’s discuss how to fix the violations.</p>
<p>To be honest, fixing a LSP violation is not easy. Since the nature of the problem is caused by a broken abstraction, discarding the abstraction is the best option. However, if you absolutely need to use the abstraction, then one solution is to remove the method that causes the violation.</p>
<p>In the Square/Rectangle example, we would remove the setters for height and width from our Rectangle class because that is how the violation can occur. After removing the setters, we need to modify the initialize method of Square to only take one parameter, size, and send that twice to the Rectangle class. Now, our classes look something like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="c1"># A Rectangle can have height and width</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="c1"># set to any value</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">)</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">      </span><span class="vi">@height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">      </span><span class="vi">@width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">height</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">      </span><span class="vi">@height</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">width</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">      </span><span class="vi">@width</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">area</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">      </span><span class="n">height</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">width</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="k">end</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="c1"># A Square must maintain the same height and width</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="k">class</span><span class="w"> </span><span class="nc">Square</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">Rectangle</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">      </span><span class="k">super</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>With sample implementation and output</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Rectangle</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="nb">puts</span><span class="w"> </span><span class="n">rect</span><span class="o">.</span><span class="n">area</span><span class="w"> </span><span class="c1"># =&gt; 50</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="n">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Square</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="nb">puts</span><span class="w"> </span><span class="n">square</span><span class="o">.</span><span class="n">area</span><span class="w"> </span><span class="c1"># =&gt; 25</span>
</code></pre></div></td></tr></table></div>
<h3 id="tldr"><a class="toclink" href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/#tldr">TL;DR</a></h3>
<p>In short, the Liskov Substitution Principle (LSP) enforces the idea that if a class has a sub-type (through inheritance or interfaces), then by passing the sub-type, the program should still produce the same results. If you run across a class that violates LSP, then you know that your abstraction is not complete and you can either</p>
<ul>
<li>Remove the offending methods/properties or</li>
<li>Abandon the abstraction</li>
</ul>
<p>As always, don’t forget to refactor and reorganize your code as needed.</p>
<h3 id="establishing-a-solid-foundation-series"><a class="toclink" href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/#establishing-a-solid-foundation-series">Establishing a SOLID Foundation Series</a></h3>
<ul>
<li><a href="../../2013/11/04/establish-solid-intro/">Introduction</a></li>
<li><a href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">The Single Responsibility Principle (SRP)</a></li>
<li><a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">The Open/Closed Principle (OCP)</a></li>
<li><a href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">The Liskov Substitution Principle (LSP)</a></li>
<li><a href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">The Interface Segregation Principle (ISP)</a></li>
<li><a href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">The Dependency Inversion Principle (DIP)</a></li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-11-18 00:00:00+00:00">Nov 18, 2013</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a>, 
              <a href="../solid/" class="md-meta__link">SOLID</a></li>
        
        
          
          <li class="md-meta__item">
            
              7 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="beginner-basics-establishing-a-solid-foundation-the-openclosed-principle"><a class="toclink" href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">Beginner Basics: Establishing a SOLID Foundation - The Open/Closed Principle</a></h2>
<p>Welcome to the second installment of Establishing a SOLID Foundation series. In this post, we’ll be exploring the second part of SOLID, the Open/Closed Principle and how following this principle can lead to great design choices.</p>
<p>So what is the Open/Closed Principle?
In order to set the context for discussion, let’s revisit our last example of the Chef class:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Chef</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">      </span><span class="no">CookChickenWithBroccoli</span><span class="p">()</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookChickenWithBroccoli</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Cooked chicken with broccoli&quot;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>So it looks like this Chef is pretty simple, it only has one public method of CookFood and he can only cook ChickenWithBroccoli. However, a Chef that can only cook one thing isn’t very useful. So how about we add some more menu items?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span>
<span class="normal"><a href="#__codelineno-11-20">20</a></span>
<span class="normal"><a href="#__codelineno-11-21">21</a></span>
<span class="normal"><a href="#__codelineno-11-22">22</a></span>
<span class="normal"><a href="#__codelineno-11-23">23</a></span>
<span class="normal"><a href="#__codelineno-11-24">24</a></span>
<span class="normal"><a href="#__codelineno-11-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Chef</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookFood</span><span class="w"> </span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">      </span><span class="no">CookChickenWithBroccoli</span><span class="p">()</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">    </span><span class="k">elsif</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;steak with potatoes&quot;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">      </span><span class="no">CookSteakWithPotatoes</span><span class="p">()</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">    </span><span class="k">elsif</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;pork with apples&quot;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">      </span><span class="no">CookPorkWithApples</span><span class="p">()</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Don&#39;t know how to cook &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookChickenWithBroccoli</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Cooked chicken with broccoli&quot;</span>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookSteakWithPotatoes</span>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Cooked steak with potatoes&quot;</span>
<a id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-21" name="__codelineno-11-21"></a>
<a id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookPorkWithApples</span>
<a id="__codelineno-11-23" name="__codelineno-11-23"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Cooked pork with apples&quot;</span>
<a id="__codelineno-11-24" name="__codelineno-11-24"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-25" name="__codelineno-11-25"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>So our new Chef can cook more food, but the code base expanded quite a bit. In order to add more menu choices, we need to add an additional if check in CookFood and to define a new method for CookFood to call. This might not sound like a lot of work because each of these Cook* methods just print something to the screen. However, what if the steps to create each food item were much more complex?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">CookChickenWithBroccoli</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">  </span><span class="no">CookChicken</span><span class="p">()</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">  </span><span class="no">CookBroccoli</span><span class="p">()</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="k">end</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">CookChicken</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">  </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked chicken &quot;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="k">end</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">CookBroccoli</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with broccoli&quot;</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Also, what if we modified how the CookChickenWithBroccoli method worked? We would need to modify the Chef class, but that doesn’t make sense. In the real world, we would modify the recipe and the Chef would then follow the new recipe. This concept that we would have to modify an unrelated object in order to add new functionality is the inspiration for the Open/Closed Principle.</p>
<p>In short, the Open/Closed Principle means that an object should be <strong>Open</strong> for extension, but <strong>Closed</strong> for modification. This principle relies on the idea that new functionality is added by creating new classes, not by modifying pre-existing classes’ behavior. By doing this, we’re decreasing the chances of breaking current functionality and increasing code stability.</p>
<h3 id="this-sounds-good-but-is-it-worth-the-additional-design-time"><a class="toclink" href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/#this-sounds-good-but-is-it-worth-the-additional-design-time">This sounds good, but is it worth the additional design time?</a></h3>
<p>Now that we’ve discussed the Open/Closed Principle, you might be wondering what some of the benefits are of cleaning up this design.</p>
<p>First, classes that follow the Open/Closed Principle are small and focused in nature playing off the idea of the Single Responsibility Principle. Looking back at our Chef class, it’s very clear that by adding new functionality, Chef is going to be handling way too many things.</p>
<p>Next, by following OCP, there won’t be multiple classes modified just to add new functionality. There’s nothing like a change set containing tons of modified files to make even the most experienced developer shudder in fear.</p>
<p>By definition of OCP, we won’t be modifying a lot of files (ideally only one file should be modified) and we’re adding new classes. Since we’re adding in these new classes, we inherently have the opportunity to bake in testing.</p>
<h3 id="alright-i-get-it-ocp-is-awesome-but-how-do-i-refactor-the-chef-class"><a class="toclink" href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/#alright-i-get-it-ocp-is-awesome-but-how-do-i-refactor-the-chef-class">Alright, I get it OCP is awesome, but how do I refactor the Chef class?</a></h3>
<p>In order to fix the violation, we’re going to take each menu item and make them into their own class</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span>
<span class="normal"><a href="#__codelineno-13-20">20</a></span>
<span class="normal"><a href="#__codelineno-13-21">21</a></span>
<span class="normal"><a href="#__codelineno-13-22">22</a></span>
<span class="normal"><a href="#__codelineno-13-23">23</a></span>
<span class="normal"><a href="#__codelineno-13-24">24</a></span>
<span class="normal"><a href="#__codelineno-13-25">25</a></span>
<span class="normal"><a href="#__codelineno-13-26">26</a></span>
<span class="normal"><a href="#__codelineno-13-27">27</a></span>
<span class="normal"><a href="#__codelineno-13-28">28</a></span>
<span class="normal"><a href="#__codelineno-13-29">29</a></span>
<span class="normal"><a href="#__codelineno-13-30">30</a></span>
<span class="normal"><a href="#__codelineno-13-31">31</a></span>
<span class="normal"><a href="#__codelineno-13-32">32</a></span>
<span class="normal"><a href="#__codelineno-13-33">33</a></span>
<span class="normal"><a href="#__codelineno-13-34">34</a></span>
<span class="normal"><a href="#__codelineno-13-35">35</a></span>
<span class="normal"><a href="#__codelineno-13-36">36</a></span>
<span class="normal"><a href="#__codelineno-13-37">37</a></span>
<span class="normal"><a href="#__codelineno-13-38">38</a></span>
<span class="normal"><a href="#__codelineno-13-39">39</a></span>
<span class="normal"><a href="#__codelineno-13-40">40</a></span>
<span class="normal"><a href="#__codelineno-13-41">41</a></span>
<span class="normal"><a href="#__codelineno-13-42">42</a></span>
<span class="normal"><a href="#__codelineno-13-43">43</a></span>
<span class="normal"><a href="#__codelineno-13-44">44</a></span>
<span class="normal"><a href="#__codelineno-13-45">45</a></span>
<span class="normal"><a href="#__codelineno-13-46">46</a></span>
<span class="normal"><a href="#__codelineno-13-47">47</a></span>
<span class="normal"><a href="#__codelineno-13-48">48</a></span>
<span class="normal"><a href="#__codelineno-13-49">49</a></span>
<span class="normal"><a href="#__codelineno-13-50">50</a></span>
<span class="normal"><a href="#__codelineno-13-51">51</a></span>
<span class="normal"><a href="#__codelineno-13-52">52</a></span>
<span class="normal"><a href="#__codelineno-13-53">53</a></span>
<span class="normal"><a href="#__codelineno-13-54">54</a></span>
<span class="normal"><a href="#__codelineno-13-55">55</a></span>
<span class="normal"><a href="#__codelineno-13-56">56</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ChickenWithBroccoli</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="vi">@name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Chicken with Broccoli&quot;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="no">CookChicken</span><span class="p">()</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="no">CookBroccoli</span><span class="p">()</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookChicken</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w">    </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked chicken &quot;</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookBroccoli</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with broccoli&quot;</span>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="k">end</span>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a>
<a id="__codelineno-13-20" name="__codelineno-13-20"></a><span class="k">class</span><span class="w"> </span><span class="nc">SteakWithPotatoes</span>
<a id="__codelineno-13-21" name="__codelineno-13-21"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-13-22" name="__codelineno-13-22"></a><span class="w">    </span><span class="vi">@name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Steak with Potatoes&quot;</span>
<a id="__codelineno-13-23" name="__codelineno-13-23"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-24" name="__codelineno-13-24"></a>
<a id="__codelineno-13-25" name="__codelineno-13-25"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-13-26" name="__codelineno-13-26"></a><span class="w">    </span><span class="no">CookSteak</span><span class="p">()</span>
<a id="__codelineno-13-27" name="__codelineno-13-27"></a><span class="w">    </span><span class="no">CookPotatoes</span><span class="p">()</span>
<a id="__codelineno-13-28" name="__codelineno-13-28"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-29" name="__codelineno-13-29"></a>
<a id="__codelineno-13-30" name="__codelineno-13-30"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookSteak</span>
<a id="__codelineno-13-31" name="__codelineno-13-31"></a><span class="w">    </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked steak &quot;</span>
<a id="__codelineno-13-32" name="__codelineno-13-32"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-33" name="__codelineno-13-33"></a>
<a id="__codelineno-13-34" name="__codelineno-13-34"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookPotatoes</span>
<a id="__codelineno-13-35" name="__codelineno-13-35"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with potatoes&quot;</span>
<a id="__codelineno-13-36" name="__codelineno-13-36"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-37" name="__codelineno-13-37"></a><span class="k">end</span>
<a id="__codelineno-13-38" name="__codelineno-13-38"></a>
<a id="__codelineno-13-39" name="__codelineno-13-39"></a><span class="k">class</span><span class="w"> </span><span class="nc">PorkWithApples</span>
<a id="__codelineno-13-40" name="__codelineno-13-40"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-13-41" name="__codelineno-13-41"></a><span class="w">    </span><span class="vi">@name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Pork with Apples&quot;</span>
<a id="__codelineno-13-42" name="__codelineno-13-42"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-43" name="__codelineno-13-43"></a>
<a id="__codelineno-13-44" name="__codelineno-13-44"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-13-45" name="__codelineno-13-45"></a><span class="w">    </span><span class="no">CookPork</span><span class="p">()</span>
<a id="__codelineno-13-46" name="__codelineno-13-46"></a><span class="w">    </span><span class="no">CookApples</span><span class="p">()</span>
<a id="__codelineno-13-47" name="__codelineno-13-47"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-48" name="__codelineno-13-48"></a>
<a id="__codelineno-13-49" name="__codelineno-13-49"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookPork</span>
<a id="__codelineno-13-50" name="__codelineno-13-50"></a><span class="w">    </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked pork &quot;</span>
<a id="__codelineno-13-51" name="__codelineno-13-51"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-52" name="__codelineno-13-52"></a>
<a id="__codelineno-13-53" name="__codelineno-13-53"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookApples</span>
<a id="__codelineno-13-54" name="__codelineno-13-54"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with apples&quot;</span>
<a id="__codelineno-13-55" name="__codelineno-13-55"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-56" name="__codelineno-13-56"></a><span class="w"> </span><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Now that we have these different classes, we need to come up with some way for our Chef to interact with them. So why don’t we organize these menu items into a Recipes class?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Recipes</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">      </span><span class="vi">@recipes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">      </span><span class="vi">@recipes</span><span class="o">[</span><span class="ss">:chicken</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">ChickenWithBroccoli</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">      </span><span class="vi">@recipes</span><span class="o">[</span><span class="ss">:steak</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SteakWithPotatoes</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">      </span><span class="vi">@recipes</span><span class="o">[</span><span class="ss">:pork</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">PorkWithApples</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">MakeOrder</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">      </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">nil</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">          </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">@recipes</span><span class="o">[</span><span class="ss">:chicken</span><span class="o">]</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">      </span><span class="k">elsif</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;steak with potatoes&quot;</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">          </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">@recipes</span><span class="o">[</span><span class="ss">:steak</span><span class="o">]</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">      </span><span class="k">elsif</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;pork with apples&quot;</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">          </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">@recipes</span><span class="o">[</span><span class="ss">:pork</span><span class="o">]</span>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">      </span><span class="k">end</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kp">nil</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="w">          </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Can&#39;t cook &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">      </span><span class="k">else</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">          </span><span class="n">recipe</span><span class="o">.</span><span class="n">Cook</span><span class="p">()</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">      </span><span class="k">end</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Now we have this Recipes class that contains all of the menu items for our Chef to use. When adding new menu items to Recipes, all we have to add is the class in the initialize method and add an additional if check in the MakeOrder method. <em>But hold on</em>, I hear you say, <em>This is the same as what we had with the Chef at the beginning, why is this design better?</em> Before, we would have to modify the Chef in order to add more menu items which doesn’t really make sense, now we’ve moved that logic to Recipes which makes sense that it needs to be modified if a new menu item is added.</p>
<p>On the topic of our Chef, after cleaning up to use the Recipes class, our Chef is simpler and relies on Recipes for the menu items, not itself:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span>
<span class="normal"><a href="#__codelineno-15-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Chef</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">    </span><span class="vi">@recipes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Recipes</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookFood</span><span class="w"> </span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="w">    </span><span class="vi">@recipes</span><span class="o">.</span><span class="n">MakeOrder</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Now that we’ve fixed the violation, let’s go ahead and refactor some. Looking at the menu choices, it’s pretty clear that we can abstract the behavior to a base class called MenuItem for them all to share (<em>Note: By defining Cook by raising an exception, I’m forcing all classes to provide their own implementation</em>).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span>
<span class="normal"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MenuItem</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">      </span><span class="vi">@name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">name</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">      </span><span class="k">raise</span><span class="w"> </span><span class="s2">&quot;This should be overridden in child class&quot;</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Also, as part of this refactoring, we’re going to move some of the strings into constants as part of the RecipeNames module so that the Chef and Recipes can communicate with one another:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="k">module</span><span class="w"> </span><span class="nn">RecipeNames</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span><span class="no">ChickenWithBroccoli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Chicken with Broccoli&quot;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">  </span><span class="no">SteakWithPotatoes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Steak with Potatoes&quot;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">  </span><span class="no">PorkWithApples</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Pork with Apples&quot;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>With these additions, let’s update the menu choices to use the module and the MenuItem base class:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span>
<span class="normal"><a href="#__codelineno-18-11">11</a></span>
<span class="normal"><a href="#__codelineno-18-12">12</a></span>
<span class="normal"><a href="#__codelineno-18-13">13</a></span>
<span class="normal"><a href="#__codelineno-18-14">14</a></span>
<span class="normal"><a href="#__codelineno-18-15">15</a></span>
<span class="normal"><a href="#__codelineno-18-16">16</a></span>
<span class="normal"><a href="#__codelineno-18-17">17</a></span>
<span class="normal"><a href="#__codelineno-18-18">18</a></span>
<span class="normal"><a href="#__codelineno-18-19">19</a></span>
<span class="normal"><a href="#__codelineno-18-20">20</a></span>
<span class="normal"><a href="#__codelineno-18-21">21</a></span>
<span class="normal"><a href="#__codelineno-18-22">22</a></span>
<span class="normal"><a href="#__codelineno-18-23">23</a></span>
<span class="normal"><a href="#__codelineno-18-24">24</a></span>
<span class="normal"><a href="#__codelineno-18-25">25</a></span>
<span class="normal"><a href="#__codelineno-18-26">26</a></span>
<span class="normal"><a href="#__codelineno-18-27">27</a></span>
<span class="normal"><a href="#__codelineno-18-28">28</a></span>
<span class="normal"><a href="#__codelineno-18-29">29</a></span>
<span class="normal"><a href="#__codelineno-18-30">30</a></span>
<span class="normal"><a href="#__codelineno-18-31">31</a></span>
<span class="normal"><a href="#__codelineno-18-32">32</a></span>
<span class="normal"><a href="#__codelineno-18-33">33</a></span>
<span class="normal"><a href="#__codelineno-18-34">34</a></span>
<span class="normal"><a href="#__codelineno-18-35">35</a></span>
<span class="normal"><a href="#__codelineno-18-36">36</a></span>
<span class="normal"><a href="#__codelineno-18-37">37</a></span>
<span class="normal"><a href="#__codelineno-18-38">38</a></span>
<span class="normal"><a href="#__codelineno-18-39">39</a></span>
<span class="normal"><a href="#__codelineno-18-40">40</a></span>
<span class="normal"><a href="#__codelineno-18-41">41</a></span>
<span class="normal"><a href="#__codelineno-18-42">42</a></span>
<span class="normal"><a href="#__codelineno-18-43">43</a></span>
<span class="normal"><a href="#__codelineno-18-44">44</a></span>
<span class="normal"><a href="#__codelineno-18-45">45</a></span>
<span class="normal"><a href="#__codelineno-18-46">46</a></span>
<span class="normal"><a href="#__codelineno-18-47">47</a></span>
<span class="normal"><a href="#__codelineno-18-48">48</a></span>
<span class="normal"><a href="#__codelineno-18-49">49</a></span>
<span class="normal"><a href="#__codelineno-18-50">50</a></span>
<span class="normal"><a href="#__codelineno-18-51">51</a></span>
<span class="normal"><a href="#__codelineno-18-52">52</a></span>
<span class="normal"><a href="#__codelineno-18-53">53</a></span>
<span class="normal"><a href="#__codelineno-18-54">54</a></span>
<span class="normal"><a href="#__codelineno-18-55">55</a></span>
<span class="normal"><a href="#__codelineno-18-56">56</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ChickenWithBroccoli</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">MenuItem</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">      </span><span class="k">super</span><span class="p">(</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">ChickenWithBroccoli</span><span class="p">)</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="w">      </span><span class="no">CookChicken</span><span class="p">()</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="w">      </span><span class="no">CookBroccoli</span><span class="p">()</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookChicken</span>
<a id="__codelineno-18-12" name="__codelineno-18-12"></a><span class="w">      </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked chicken &quot;</span>
<a id="__codelineno-18-13" name="__codelineno-18-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-14" name="__codelineno-18-14"></a>
<a id="__codelineno-18-15" name="__codelineno-18-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookBroccoli</span>
<a id="__codelineno-18-16" name="__codelineno-18-16"></a><span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with broccoli&quot;</span>
<a id="__codelineno-18-17" name="__codelineno-18-17"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-18" name="__codelineno-18-18"></a><span class="k">end</span>
<a id="__codelineno-18-19" name="__codelineno-18-19"></a>
<a id="__codelineno-18-20" name="__codelineno-18-20"></a><span class="k">class</span><span class="w"> </span><span class="nc">SteakWithPotatoes</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">MenuItem</span>
<a id="__codelineno-18-21" name="__codelineno-18-21"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-18-22" name="__codelineno-18-22"></a><span class="w">      </span><span class="k">super</span><span class="p">(</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">SteakWithPotatoes</span><span class="p">)</span>
<a id="__codelineno-18-23" name="__codelineno-18-23"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-24" name="__codelineno-18-24"></a>
<a id="__codelineno-18-25" name="__codelineno-18-25"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-18-26" name="__codelineno-18-26"></a><span class="w">      </span><span class="no">CookSteak</span><span class="p">()</span>
<a id="__codelineno-18-27" name="__codelineno-18-27"></a><span class="w">      </span><span class="no">CookPotatoes</span><span class="p">()</span>
<a id="__codelineno-18-28" name="__codelineno-18-28"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-29" name="__codelineno-18-29"></a>
<a id="__codelineno-18-30" name="__codelineno-18-30"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookSteak</span>
<a id="__codelineno-18-31" name="__codelineno-18-31"></a><span class="w">      </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked steak &quot;</span>
<a id="__codelineno-18-32" name="__codelineno-18-32"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-33" name="__codelineno-18-33"></a>
<a id="__codelineno-18-34" name="__codelineno-18-34"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookPotatoes</span>
<a id="__codelineno-18-35" name="__codelineno-18-35"></a><span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with potatoes&quot;</span>
<a id="__codelineno-18-36" name="__codelineno-18-36"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-37" name="__codelineno-18-37"></a><span class="k">end</span>
<a id="__codelineno-18-38" name="__codelineno-18-38"></a>
<a id="__codelineno-18-39" name="__codelineno-18-39"></a><span class="k">class</span><span class="w"> </span><span class="nc">PorkWithApples</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">MenuItem</span>
<a id="__codelineno-18-40" name="__codelineno-18-40"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-18-41" name="__codelineno-18-41"></a><span class="w">      </span><span class="k">super</span><span class="p">(</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">PorkWithApples</span><span class="p">)</span>
<a id="__codelineno-18-42" name="__codelineno-18-42"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-43" name="__codelineno-18-43"></a>
<a id="__codelineno-18-44" name="__codelineno-18-44"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">Cook</span>
<a id="__codelineno-18-45" name="__codelineno-18-45"></a><span class="w">      </span><span class="no">CookPork</span><span class="p">()</span>
<a id="__codelineno-18-46" name="__codelineno-18-46"></a><span class="w">      </span><span class="no">CookApples</span><span class="p">()</span>
<a id="__codelineno-18-47" name="__codelineno-18-47"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-48" name="__codelineno-18-48"></a>
<a id="__codelineno-18-49" name="__codelineno-18-49"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookPork</span>
<a id="__codelineno-18-50" name="__codelineno-18-50"></a><span class="w">      </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Cooked pork &quot;</span>
<a id="__codelineno-18-51" name="__codelineno-18-51"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-52" name="__codelineno-18-52"></a>
<a id="__codelineno-18-53" name="__codelineno-18-53"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookApples</span>
<a id="__codelineno-18-54" name="__codelineno-18-54"></a><span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;with apples&quot;</span>
<a id="__codelineno-18-55" name="__codelineno-18-55"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-18-56" name="__codelineno-18-56"></a><span class="w"> </span><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>With these changes, we need to update the Recipes class to use the RecipeNames module:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Recipes</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">      </span><span class="vi">@recipes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">      </span><span class="vi">@recipes</span><span class="o">[</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">ChickenWithBroccoli</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">ChickenWithBroccoli</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">      </span><span class="vi">@recipes</span><span class="o">[</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">SteakWithPotatoes</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SteakWithPotatoes</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">      </span><span class="vi">@recipes</span><span class="o">[</span><span class="no">RecipeNames</span><span class="o">::</span><span class="no">PorkWithApples</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">PorkWithApples</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">MakeOrder</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">      </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">@recipes</span><span class="o">[</span><span class="n">order</span><span class="o">]</span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kp">nil</span>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">          </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Can&#39;t cook &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="w">      </span><span class="k">else</span>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="w">          </span><span class="n">recipe</span><span class="o">.</span><span class="n">Cook</span><span class="p">()</span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="w">      </span><span class="k">end</span>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>With this current layout, if we needed to add another menu item (let’s say Fish and Chips), we would need to:</p>
<ol>
<li>Create a new class that extends MenuItem called FishAndChips</li>
<li>Add another string constant to RecipeNames</li>
<li>Add another line in the Recipes initialize method to add it to the array</li>
</ol>
<h3 id="tldr"><a class="toclink" href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/#tldr">TL;DR</a></h3>
<p>In short, the Open/Closed Principle (OCP) reinforces the idea that every class should be open for extension and closed to modifications. By following this principle, you’re much more likely to create separated code that allows you to increase functionality and decrease the odds of breaking current functionality. If you run across a class that is doing way too much, use the Single Responsibility Principle to separate the classes and then use a new object that serves as the middle man. In our case, the Recipes class was the middle man between the Chef and the different menu items. As always, don’t forget to refactor and reorganize your code as needed.</p>
<h3 id="establishing-a-solid-foundation-series"><a class="toclink" href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/#establishing-a-solid-foundation-series">Establishing a SOLID Foundation Series</a></h3>
<ul>
<li><a href="../../2013/11/04/establish-solid-intro/">Introduction</a></li>
<li><a href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">The Single Responsibility Principle (SRP)</a></li>
<li><a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">The Open/Closed Principle (OCP)</a></li>
<li><a href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">The Liskov Substitution Principle (LSP)</a></li>
<li><a href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">The Interface Segregation Principle (ISP)</a></li>
<li><a href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">The Dependency Inversion Principle (DIP)</a></li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-11-11 00:00:00+00:00">Nov 11, 2013</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a>, 
              <a href="../solid/" class="md-meta__link">SOLID</a></li>
        
        
          
          <li class="md-meta__item">
            
              6 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="beginner-basics-establishing-a-solid-foundation-the-single-responsibility-principle"><a class="toclink" href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">Beginner Basics: Establishing a SOLID Foundation – The Single Responsibility Principle</a></h2>
<p>Welcome to the first installment of Establishing a SOLID Foundation series. In this post, we’ll be exploring the first part of SOLID, the Single Responsibility Principle and how following this principle can lead to great design choices.</p>
<h3 id="so-what-is-the-single-responsibility-principle"><a class="toclink" href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/#so-what-is-the-single-responsibility-principle">So what is the Single Responsibility Principle?</a></h3>
<p>Before diving into code, let’s take a look at a real life example. Let’s say that we open a new restaurant. Clearly, we need to hire a fantastic head chef to prepare the food. Between these two candidates, which one seems to be the better fit?</p>
<ul>
<li>Chef A – spends their time on creating new dishes and preparing the best food possible</li>
<li>Chef B – spends their time on taking orders, preparing food, and busing tables</li>
</ul>
<p><em>Well that’s easy</em>, you say, <em>we should hire Chef A because he’s focusing on cooking. We can hire other people to take orders and clean tables</em>. It’s pretty obvious that Chef A is the better choice because of the focusing on a single job. So if this is what happens in real life, why is that we see code that is doing way too many things?</p>
<p>For example here’s an example of what the Chef B(efore) class might look like</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span>
<span class="normal"><a href="#__codelineno-8-30">30</a></span>
<span class="normal"><a href="#__codelineno-8-31">31</a></span>
<span class="normal"><a href="#__codelineno-8-32">32</a></span>
<span class="normal"><a href="#__codelineno-8-33">33</a></span>
<span class="normal"><a href="#__codelineno-8-34">34</a></span>
<span class="normal"><a href="#__codelineno-8-35">35</a></span>
<span class="normal"><a href="#__codelineno-8-36">36</a></span>
<span class="normal"><a href="#__codelineno-8-37">37</a></span>
<span class="normal"><a href="#__codelineno-8-38">38</a></span>
<span class="normal"><a href="#__codelineno-8-39">39</a></span>
<span class="normal"><a href="#__codelineno-8-40">40</a></span>
<span class="normal"><a href="#__codelineno-8-41">41</a></span>
<span class="normal"><a href="#__codelineno-8-42">42</a></span>
<span class="normal"><a href="#__codelineno-8-43">43</a></span>
<span class="normal"><a href="#__codelineno-8-44">44</a></span>
<span class="normal"><a href="#__codelineno-8-45">45</a></span>
<span class="normal"><a href="#__codelineno-8-46">46</a></span>
<span class="normal"><a href="#__codelineno-8-47">47</a></span>
<span class="normal"><a href="#__codelineno-8-48">48</a></span>
<span class="normal"><a href="#__codelineno-8-49">49</a></span>
<span class="normal"><a href="#__codelineno-8-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Chef</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span><span class="vi">@order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">nil</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span><span class="vi">@orderReady</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">false</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">      </span><span class="no">CookChickenWithBroccoli</span><span class="p">()</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">      </span><span class="no">DeliverFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookChickenWithBroccoli</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">    </span><span class="vi">@orderReady</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">true</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">DeliverFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="w">    </span><span class="no">GiveFood</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tableNumber</span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GiveFood</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Food delivered&quot;</span>
<a id="__codelineno-8-30" name="__codelineno-8-30"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-31" name="__codelineno-8-31"></a>
<a id="__codelineno-8-32" name="__codelineno-8-32"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">BusTables</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">);</span>
<a id="__codelineno-8-34" name="__codelineno-8-34"></a><span class="w">    </span><span class="no">CleanTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-35" name="__codelineno-8-35"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-36" name="__codelineno-8-36"></a>
<a id="__codelineno-8-37" name="__codelineno-8-37"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CleanTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-38" name="__codelineno-8-38"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Table # &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tableNumber</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; cleaned&quot;</span>
<a id="__codelineno-8-39" name="__codelineno-8-39"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-40" name="__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">TakeOrders</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-42" name="__codelineno-8-42"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-8-43" name="__codelineno-8-43"></a><span class="w">    </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">AskForOrder</span><span class="p">()</span>
<a id="__codelineno-8-44" name="__codelineno-8-44"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-8-45" name="__codelineno-8-45"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-46" name="__codelineno-8-46"></a>
<a id="__codelineno-8-47" name="__codelineno-8-47"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">AskForOrder</span><span class="p">()</span>
<a id="__codelineno-8-48" name="__codelineno-8-48"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-8-49" name="__codelineno-8-49"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-8-50" name="__codelineno-8-50"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>with an example implementation usage:</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">tableNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="n">chef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Chef</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chef</span><span class="o">.</span><span class="n">TakeOrders</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="n">chef</span><span class="o">.</span><span class="n">CookFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="n">chef</span><span class="o">.</span><span class="n">BusTables</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
As you can tell in the Chef example, there are a lot of methods that need to be defined in order to get the different pieces of main functionality working. If any of these main pieces needed to be changed, we would have to modify the Chef class.</p>
<p>Because of the dependencies, another way to describe the SRP is that the class should only have one reason to change. In this case, the Chef class has three reasons for changing. (Fun fact: when dealing with classes that have a lot of reasons to change, it can be a sign that the class is following the <a href="http://en.wikipedia.org/wiki/God_object">God-Object</a> anti-pattern.)</p>
<h3 id="i-dont-know-whats-in-it-for-me"><a class="toclink" href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/#i-dont-know-whats-in-it-for-me">I don’t know, what’s in it for me?</a></h3>
<p>Now that you have a good understanding of the SRP, you might be asking what are some of the benefits of cleaning up your design.</p>
<p>First, classes that only do one job have less dependencies to worry about. Looking back at our code example, it’s clear that the Chef class would have to change if we needed to change the business rules for taking orders, cleaning tables, or for cooking food.</p>
<p>Next, by following the SRP, it’s easier for a team to solve issues. For example. let’s say that you had to fix an error in cleaning the tables and someone else on your team was assigned to update the taking an order scenario. Using the Chef B class definition, the two of you would have to make different changes to the same class.</p>
<p>Finally, by following the SRP, we’re more closely following the idea behind object-oriented design. By definition, we should take complex problems and break them down into their individual actors. Since we define that each class can only have one responsibility, we are ensuring that the problem is being broken down to its smallest pieces.</p>
<h3 id="ok-ok-youve-convinced-me-how-do-i-take-a-busy-class-and-make-it-simple"><a class="toclink" href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/#ok-ok-youve-convinced-me-how-do-i-take-a-busy-class-and-make-it-simple">Ok, ok, you’ve convinced me, how do I take a busy class and make it simple?</a></h3>
<p>Fortunately, if you have a class that has is doing too many things, there’s a really simple fix. Just create more objects that contain the different pieces.</p>
<p>Using our Chef example, I’m going to separate the responsibilities into two new classes. First, I’m going to move all the methods involved in taking orders to a new Waiter class.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span>
<span class="normal"><a href="#__codelineno-10-14">14</a></span>
<span class="normal"><a href="#__codelineno-10-15">15</a></span>
<span class="normal"><a href="#__codelineno-10-16">16</a></span>
<span class="normal"><a href="#__codelineno-10-17">17</a></span>
<span class="normal"><a href="#__codelineno-10-18">18</a></span>
<span class="normal"><a href="#__codelineno-10-19">19</a></span>
<span class="normal"><a href="#__codelineno-10-20">20</a></span>
<span class="normal"><a href="#__codelineno-10-21">21</a></span>
<span class="normal"><a href="#__codelineno-10-22">22</a></span>
<span class="normal"><a href="#__codelineno-10-23">23</a></span>
<span class="normal"><a href="#__codelineno-10-24">24</a></span>
<span class="normal"><a href="#__codelineno-10-25">25</a></span>
<span class="normal"><a href="#__codelineno-10-26">26</a></span>
<span class="normal"><a href="#__codelineno-10-27">27</a></span>
<span class="normal"><a href="#__codelineno-10-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Waiter</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">DeliverFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">    </span><span class="no">GiveFood</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tableNumber</span>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-14" name="__codelineno-10-14"></a>
<a id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GiveFood</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Food delivered&quot;</span>
<a id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-18" name="__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">TakeOrders</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="w">    </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">AskForOrder</span><span class="p">()</span>
<a id="__codelineno-10-22" name="__codelineno-10-22"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-10-23" name="__codelineno-10-23"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-24" name="__codelineno-10-24"></a>
<a id="__codelineno-10-25" name="__codelineno-10-25"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">AskForOrder</span><span class="p">()</span>
<a id="__codelineno-10-26" name="__codelineno-10-26"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-10-27" name="__codelineno-10-27"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-10-28" name="__codelineno-10-28"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Next, I’m going to extract every method needed to bus tables into our new Busboy class:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Busboy</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">BusTables</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">);</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">    </span><span class="no">CleanTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tableNumber</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CleanTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Table # &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tableNumber</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; cleaned&quot;</span>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Now that we’ve broken up the responsibilities, the next step is to look at some common functionality that classes might share. For example, it looks like the Waiter and Busboy class both use @position and the GoToTable method, so why don’t we create a new class called BaseService</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span>
<span class="normal"><a href="#__codelineno-12-5">5</a></span>
<span class="normal"><a href="#__codelineno-12-6">6</a></span>
<span class="normal"><a href="#__codelineno-12-7">7</a></span>
<span class="normal"><a href="#__codelineno-12-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">BaseService</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="vi">@position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tableNumber</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>and allow both the Waiter and Busboy classes to inherit?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span>
<span class="normal"><a href="#__codelineno-13-20">20</a></span>
<span class="normal"><a href="#__codelineno-13-21">21</a></span>
<span class="normal"><a href="#__codelineno-13-22">22</a></span>
<span class="normal"><a href="#__codelineno-13-23">23</a></span>
<span class="normal"><a href="#__codelineno-13-24">24</a></span>
<span class="normal"><a href="#__codelineno-13-25">25</a></span>
<span class="normal"><a href="#__codelineno-13-26">26</a></span>
<span class="normal"><a href="#__codelineno-13-27">27</a></span>
<span class="normal"><a href="#__codelineno-13-28">28</a></span>
<span class="normal"><a href="#__codelineno-13-29">29</a></span>
<span class="normal"><a href="#__codelineno-13-30">30</a></span>
<span class="normal"><a href="#__codelineno-13-31">31</a></span>
<span class="normal"><a href="#__codelineno-13-32">32</a></span>
<span class="normal"><a href="#__codelineno-13-33">33</a></span>
<span class="normal"><a href="#__codelineno-13-34">34</a></span>
<span class="normal"><a href="#__codelineno-13-35">35</a></span>
<span class="normal"><a href="#__codelineno-13-36">36</a></span>
<span class="normal"><a href="#__codelineno-13-37">37</a></span>
<span class="normal"><a href="#__codelineno-13-38">38</a></span>
<span class="normal"><a href="#__codelineno-13-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Waiter</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">BaseService</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="k">super</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">DeliverFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="no">GiveFood</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">GiveFood</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Food delivered&quot;</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">TakeOrders</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="w">    </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">AskForOrder</span><span class="p">()</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">order</span>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-20" name="__codelineno-13-20"></a>
<a id="__codelineno-13-21" name="__codelineno-13-21"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">AskForOrder</span><span class="p">()</span>
<a id="__codelineno-13-22" name="__codelineno-13-22"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-13-23" name="__codelineno-13-23"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-24" name="__codelineno-13-24"></a><span class="k">end</span>
<a id="__codelineno-13-25" name="__codelineno-13-25"></a>
<a id="__codelineno-13-26" name="__codelineno-13-26"></a><span class="k">class</span><span class="w"> </span><span class="nc">Busboy</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="no">BaseService</span>
<a id="__codelineno-13-27" name="__codelineno-13-27"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-13-28" name="__codelineno-13-28"></a><span class="w">    </span><span class="k">super</span>
<a id="__codelineno-13-29" name="__codelineno-13-29"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-30" name="__codelineno-13-30"></a>
<a id="__codelineno-13-31" name="__codelineno-13-31"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">BusTables</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-32" name="__codelineno-13-32"></a><span class="w">    </span><span class="no">GoToTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">);</span>
<a id="__codelineno-13-33" name="__codelineno-13-33"></a><span class="w">    </span><span class="no">CleanTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-34" name="__codelineno-13-34"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-35" name="__codelineno-13-35"></a>
<a id="__codelineno-13-36" name="__codelineno-13-36"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CleanTable</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-13-37" name="__codelineno-13-37"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Table # &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tableNumber</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; cleaned&quot;</span>
<a id="__codelineno-13-38" name="__codelineno-13-38"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-13-39" name="__codelineno-13-39"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Great, we’ve finished refactoring the overly-obsessive Chef from having control on everything in the restaurant to just keep his attention on cooking great food.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Chef</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="vi">@orderReady</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">false</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;chicken with broccoli&quot;</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">      </span><span class="no">CookChickenWithBroccoli</span><span class="p">()</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">CookChickenWithBroccoli</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">    </span><span class="vi">@orderReady</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kp">true</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">  </span><span class="k">end</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Wow, after separating the concerns, our chef class has been massively condensed down to focus on just cooking food, but how do all of these individual classes interact with one another? Does it look like the classes are now focusing on performing one job well?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">tableNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="n">chef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Chef</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="n">waiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Waiter</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="n">busboy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Busboy</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">waiter</span><span class="o">.</span><span class="n">TakeOrders</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="n">chef</span><span class="o">.</span><span class="n">CookFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="n">waiter</span><span class="o">.</span><span class="n">DeliverFood</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">tableNumber</span><span class="p">)</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="n">busboy</span><span class="o">.</span><span class="n">BusTables</span><span class="p">(</span><span class="n">tableNumber</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Something to keep in mind when separating responsibilities is that a single responsibility does not equal a single method. If the methods are all related to performing the same task, then it’s not a violation of the SRP.</p>
<h3 id="tldr"><a class="toclink" href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/#tldr">TL;DR</a></h3>
<p>In short, the Single Responsibility Principle (SRP) reinforces the idea that every class should have one job and should do that job well. By following this principle, you’re much more likely to create more readable and maintainable code. When you run across classes that are doing too much, the best solution is to extract the extra functionality into another class. After extraction, don’t forget to refactor and reorganize as needed.</p>
<h3 id="establishing-a-solid-foundation-series"><a class="toclink" href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/#establishing-a-solid-foundation-series">Establishing a SOLID Foundation Series</a></h3>
<ul>
<li><a href="../../2013/11/04/establish-solid-intro/">Introduction</a></li>
<li><a href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">The Single Responsibility Principle (SRP)</a></li>
<li><a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">The Open/Closed Principle (OCP)</a></li>
<li><a href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">The Liskov Substitution Principle (LSP)</a></li>
<li><a href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">The Interface Segregation Principle (ISP)</a></li>
<li><a href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">The Dependency Inversion Principle (DIP)</a></li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-11-04 00:00:00+00:00">Nov 4, 2013</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a>, 
              <a href="../solid/" class="md-meta__link">SOLID</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="establish-solid-intro"><a class="toclink" href="../../2013/11/04/establish-solid-intro/">Establish solid intro</a></h2>
<p>If you’ve been working at any dev shop worth its salt, it’s a safe bet that you’ve heard someone mention writing SOLID code or that something isn’t SOLID. Well, what exactly do they mean by SOLID?</p>
<p>As part of this Beginner Basics series, we’re going to first look at what does SOLID mean and why is it so important. For the next five weeks, we’ll explore a different aspect of SOLID by in terms of which principle does each letter represent, some code samples that follow the principle and code samples that break the principle. . As this series progresses, I’ll be adding the code samples to my public Bitbucket account for you to clone (You do know how to use Mercurial and Bitbucket, right?)</p>
<h3 id="what-is-solid"><a class="toclink" href="../../2013/11/04/establish-solid-intro/#what-is-solid">What is SOLID?</a></h3>
<p>In a nutshell, SOLID is a mnemonic created by Michael Feathers to help developers remember the five principles of great code construction introduced by Robert C. Martin (“Uncle Bob”). By following these principles, it’s much more likely that the code designed will be easier to maintain and to extend. As such, SOLID code follow these principles:</p>
<p><strong>(S)</strong>ingle Responsibly Principle – Every class should do just one thing and do it well
<strong>(O)</strong>pen/Closed Principle – Code should be open for extension, but closed for modifications
<strong>(L)</strong>iskov Substitution Principle – Make sure that two classes that are interchangeable have the same behavior
<strong>(I)</strong>nterface Segregation Principle – Better to use multiple specific interfaces then to use a single general interface
<strong>(D)</strong>ependency Inversion Principle – Code should depend on abstractions, not on concrete classes</p>
<h3 id="whats-so-important-about-being-solid"><a class="toclink" href="../../2013/11/04/establish-solid-intro/#whats-so-important-about-being-solid">What’s so important about being SOLID?</a></h3>
<p>When building software, its paramount that you have a solid foundation. A common analogy for building software is that it’s like building a house. If the foundation is weak, then code starts becoming stiff, changes become much harder to make and the next thing you know the shower is draining into the kitchen. If your code isn’t SOLID, then it’s going to be harder to add new features/modifications, more difficult to support, and easier to introduce features bugs. As a developer, you should strive to write code that is bug free, easily maintainable, and simple to expand. By following SOLID principles, we can carry out these goals and our code can be SOLID.</p>
<h3 id="next-steps"><a class="toclink" href="../../2013/11/04/establish-solid-intro/#next-steps">Next Steps</a></h3>
<p>Stay tuned for the next part of the series when we begin exploring the first part of SOLID, the Single Responsibility Principle. Until then, stay sharp, keep learning, and code on.</p>
<h3 id="establishing-a-solid-foundation-series"><a class="toclink" href="../../2013/11/04/establish-solid-intro/#establishing-a-solid-foundation-series">Establishing a SOLID Foundation Series</a></h3>
<ul>
<li><a href="../../2013/11/04/establish-solid-intro/">Introduction</a></li>
<li><a href="../../2013/11/11/beginner-basics-establishing-a-solid-foundation--the-single-responsibility-principle/">The Single Responsibility Principle (SRP)</a></li>
<li><a href="../../2013/11/18/beginner-basics-establishing-a-solid-foundation---the-openclosed-principle/">The Open/Closed Principle (OCP)</a></li>
<li><a href="../../2013/11/29/beginner-basics-establishing-a-solid-foundation--the-liskov-substitution-principle/">The Liskov Substition Principle (LSP)</a></li>
<li><a href="../../2013/12/12/beginner-basics-establishing-a-solid-foundation--the-interface-segregation-principle/">The Interface Segregation Principle (ISP)</a></li>
<li><a href="../../2014/01/07/beginner-basics-establishing-a-solid-foundation--the-dependency-inversion-principle/">The Dependency Inversion Principle (DIP)</a></li>
</ul>
    
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/cameronpresley.png" alt="Cameron Presley">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2013-10-12 00:00:00+00:00">Oct 12, 2013</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Basics</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="the-basics-source-control"><a class="toclink" href="../../2013/10/12/the-basics-source-control/">The Basics: Source Control</a></h2>
<p>As the first part of the Basics of Software Development series, we’re going to talk about source control is, why you should be using it and commonly used source control management (SCM) tools.</p>
<h3 id="source-control-whats-that"><a class="toclink" href="../../2013/10/12/the-basics-source-control/#source-control-whats-that">Source Control, what’s that?</a></h3>
<p>To put it simply, SCM is a set of tools that allow users to keep track of source code by using a repository. The most common workflow is to get a copy of the source code from SCM, make changes to some of the files (refactoring for example) and committing those changes back.</p>
<h3 id="benefits-of-source-control"><a class="toclink" href="../../2013/10/12/the-basics-source-control/#benefits-of-source-control">Benefits of Source Control</a></h3>
<ul>
<li>Allows for users to undo uncommitted changes</li>
<li>Promotes developers to refactor code</li>
<li>Keeps track of what changes have been made over time</li>
<li>Great for seeing what changes have been made over time (for example between versions)</li>
<li>By definition, it’s a backup of the source code</li>
<li>Perfect if your workstation crashes and you don’t have a backup</li>
<li>Makes it easier for other developers to get the latest changes</li>
<li>Instead of one developer making changes and “pushing” them to the team, source control allows the team to “pull” changes when ready.</li>
</ul>
<p>Without source control, anytime that code changes were made, the developer who made changes would have to push the code to the other developers. This may not sound terrible, but what if you were in the middle of rewriting a file? You would have to figure out what files have been changed, hope that the files that were changed aren’t files that you’re currently working on. After ensuring all of that, you need to merge your changes to the latest version and hope that nothing broke. As you can see, this is a horrible workflow, prone for errors. However, using a SCM solves these issues.</p>
<h3 id="choosing-source-control"><a class="toclink" href="../../2013/10/12/the-basics-source-control/#choosing-source-control">Choosing Source Control</a></h3>
<p>All SCM tools work either as <strong>centralized</strong> or <strong>distributed</strong>. Before you can choose a source control, you need to figure what type of source control type works best for your situation (tech requirements, ease of setup, company policies, etc..)</p>
<p>In a centralized source control implementation, there is a main server (central repository) that holds the source code and history of changes. When a developer checks out source code, they are only getting the source code (no revision history). After the developer makes changes and commits the changes, the files that have been modified are sent back to the central repository. Since the repository has the source code and history of changes, the repository is known to have the “blessed” or the “single source of truth” copy of the source code.</p>
<p>Since the centralized implementation utilizes the central server, it’s very easy to see what’s the latest and greatest. However, due to the centralization, if the server ever goes down, the team cannot commit changes.</p>
<p>In a distributed source control implementation, the big difference is that there is not a central repository. This means that every developer has both the latest source code and the revision history.</p>
<p>The main advantage to this implementation is that a developer can commit changes and continue working if there is no network connection. However, due to the lack of a central repository, there is no such thing as “blessed” version.</p>
<h3 id="common-source-control-implementations"><a class="toclink" href="../../2013/10/12/the-basics-source-control/#common-source-control-implementations">Common Source Control Implementations</a></h3>
<p>Team Foundation Server (TFS) – This is a centralized source control that is most likely working with .NET code and Visual Studio. Even though It is possible to use TFS for other languages and IDE’s, you have to use Team Explorer Everywhere and is currently supported with Eclipse.</p>
<p>Subversion (SVN) – This is a centralized source control platform that is designed to be used for any programming language and IDE.</p>
<p>Git – This is one of the most widely used distributed source control platform. This platform is most commonly used with GitHub.</p>
<p>Mercurial – Another common distributed source control platform. This is most commonly used with Bitbucket.</p>
<p>Visual SourceSafe – Very old solution from Microsoft, if your company is using this for source control, you need to migrate to another solution. This was the precursor for TFS and should no longer be used for source control.</p>
    
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../aws/" class="md-footer__link md-footer__link--prev" aria-label="Previous: AWS">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                AWS
              </div>
            </div>
          </a>
        
        
          
          <a href="../c/" class="md-footer__link md-footer__link--next" aria-label="Next: C#">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                C#
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.footer", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.ad38c271.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b66b2b78.min.js"></script>
      
    
  </body>
</html>